<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 35 R Lab 2 - Basics II | Toolbox for Social Scientists and Policy Analysts</title>
  <meta name="description" content="Chapter 35 R Lab 2 - Basics II | Toolbox for Social Scientists and Policy Analysts" />
  <meta name="generator" content="bookdown 0.32.1 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 35 R Lab 2 - Basics II | Toolbox for Social Scientists and Policy Analysts" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://yaydede.github.io/toolbox//png/cover2.png" />
  
  <meta name="github-repo" content="yaydede/ToolShed_draft" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 35 R Lab 2 - Basics II | Toolbox for Social Scientists and Policy Analysts" />
  
  
  <meta name="twitter:image" content="https://yaydede.github.io/toolbox//png/cover2.png" />

<meta name="author" content="Yigit Aydede" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-lab-1---basics-i.html"/>
<link rel="next" href="r-lab-3---preparing-the-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.0/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.26/datatables.js"></script>
<link href="libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Toolbox</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who"><i class="fa fa-check"></i>Who</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> How we define Machine Learning</a></li>
<li class="chapter" data-level="2" data-path="preliminaries.html"><a href="preliminaries.html"><i class="fa fa-check"></i><b>2</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="2.1" data-path="preliminaries.html"><a href="preliminaries.html#data-and-dataset-types"><i class="fa fa-check"></i><b>2.1</b> Data and dataset types</a></li>
<li class="chapter" data-level="2.2" data-path="preliminaries.html"><a href="preliminaries.html#plots"><i class="fa fa-check"></i><b>2.2</b> Plots</a></li>
<li class="chapter" data-level="2.3" data-path="preliminaries.html"><a href="preliminaries.html#probability-distributions-with-r"><i class="fa fa-check"></i><b>2.3</b> Probability Distributions with R</a></li>
<li class="chapter" data-level="2.4" data-path="preliminaries.html"><a href="preliminaries.html#regressions"><i class="fa fa-check"></i><b>2.4</b> Regressions</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="preliminaries.html"><a href="preliminaries.html#ordinary-least-squares-ols"><i class="fa fa-check"></i><b>2.4.1</b> Ordinary Least Squares (OLS)</a></li>
<li class="chapter" data-level="2.4.2" data-path="preliminaries.html"><a href="preliminaries.html#maximum-likelihood-estimators"><i class="fa fa-check"></i><b>2.4.2</b> Maximum Likelihood Estimators</a></li>
<li class="chapter" data-level="2.4.3" data-path="preliminaries.html"><a href="preliminaries.html#estimating-mle-with-r"><i class="fa fa-check"></i><b>2.4.3</b> Estimating MLE with R</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="preliminaries.html"><a href="preliminaries.html#blue"><i class="fa fa-check"></i><b>2.5</b> BLUE</a></li>
<li class="chapter" data-level="2.6" data-path="preliminaries.html"><a href="preliminaries.html#modeling-the-data"><i class="fa fa-check"></i><b>2.6</b> Modeling the data</a></li>
<li class="chapter" data-level="2.7" data-path="preliminaries.html"><a href="preliminaries.html#causal-vs.-predictive-models"><i class="fa fa-check"></i><b>2.7</b> Causal vs. Predictive Models</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="preliminaries.html"><a href="preliminaries.html#causal-models"><i class="fa fa-check"></i><b>2.7.1</b> Causal Models</a></li>
<li class="chapter" data-level="2.7.2" data-path="preliminaries.html"><a href="preliminaries.html#predictive-models"><i class="fa fa-check"></i><b>2.7.2</b> Predictive Models</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="preliminaries.html"><a href="preliminaries.html#simulation"><i class="fa fa-check"></i><b>2.8</b> Simulation</a></li>
</ul></li>
<li class="part"><span><b>I Formal Look at Prediction</b></span></li>
<li class="chapter" data-level="" data-path="learning-systems.html"><a href="learning-systems.html"><i class="fa fa-check"></i>Learning Systems</a></li>
<li class="chapter" data-level="3" data-path="bias-variance-tradeoff.html"><a href="bias-variance-tradeoff.html"><i class="fa fa-check"></i><b>3</b> Bias-Variance Tradeoff</a>
<ul>
<li class="chapter" data-level="3.1" data-path="bias-variance-tradeoff.html"><a href="bias-variance-tradeoff.html#estimator-and-mse"><i class="fa fa-check"></i><b>3.1</b> Estimator and MSE</a></li>
<li class="chapter" data-level="3.2" data-path="bias-variance-tradeoff.html"><a href="bias-variance-tradeoff.html#prediction---mspe"><i class="fa fa-check"></i><b>3.2</b> Prediction - MSPE</a></li>
<li class="chapter" data-level="3.3" data-path="bias-variance-tradeoff.html"><a href="bias-variance-tradeoff.html#biased-estimator-as-a-predictor"><i class="fa fa-check"></i><b>3.3</b> Biased estimator as a predictor</a></li>
<li class="chapter" data-level="3.4" data-path="bias-variance-tradeoff.html"><a href="bias-variance-tradeoff.html#dropping-a-variable-in-a-regression"><i class="fa fa-check"></i><b>3.4</b> Dropping a variable in a regression</a></li>
<li class="chapter" data-level="3.5" data-path="bias-variance-tradeoff.html"><a href="bias-variance-tradeoff.html#uncertainty-in-estimations-and-predictions"><i class="fa fa-check"></i><b>3.5</b> Uncertainty in estimations and predictions</a></li>
<li class="chapter" data-level="3.6" data-path="bias-variance-tradeoff.html"><a href="bias-variance-tradeoff.html#prediction-interval-for-unbiased-ols-predictor"><i class="fa fa-check"></i><b>3.6</b> Prediction interval for unbiased OLS predictor</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="overfitting.html"><a href="overfitting.html"><i class="fa fa-check"></i><b>4</b> Overfitting</a></li>
<li class="part"><span><b>II Nonparametric Estimations</b></span></li>
<li class="chapter" data-level="" data-path="parametric-vs.-nonparametric-methods.html"><a href="parametric-vs.-nonparametric-methods.html"><i class="fa fa-check"></i>Parametric vs. Nonparametric methods</a></li>
<li class="chapter" data-level="5" data-path="parametric-estimations.html"><a href="parametric-estimations.html"><i class="fa fa-check"></i><b>5</b> Parametric Estimations</a>
<ul>
<li class="chapter" data-level="5.1" data-path="parametric-estimations.html"><a href="parametric-estimations.html#linear-probability-models-lpm"><i class="fa fa-check"></i><b>5.1</b> Linear Probability Models (LPM)</a></li>
<li class="chapter" data-level="5.2" data-path="parametric-estimations.html"><a href="parametric-estimations.html#logistic-regression"><i class="fa fa-check"></i><b>5.2</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="parametric-estimations.html"><a href="parametric-estimations.html#estimating-logistic-regression"><i class="fa fa-check"></i><b>5.2.1</b> Estimating Logistic Regression</a></li>
<li class="chapter" data-level="5.2.2" data-path="parametric-estimations.html"><a href="parametric-estimations.html#cost-functions"><i class="fa fa-check"></i><b>5.2.2</b> Cost functions</a></li>
<li class="chapter" data-level="5.2.3" data-path="parametric-estimations.html"><a href="parametric-estimations.html#deviance"><i class="fa fa-check"></i><b>5.2.3</b> Deviance</a></li>
<li class="chapter" data-level="5.2.4" data-path="parametric-estimations.html"><a href="parametric-estimations.html#predictive-accuracy"><i class="fa fa-check"></i><b>5.2.4</b> Predictive accuracy</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="nonparametric-estimations---basics.html"><a href="nonparametric-estimations---basics.html"><i class="fa fa-check"></i><b>6</b> Nonparametric Estimations - Basics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="nonparametric-estimations---basics.html"><a href="nonparametric-estimations---basics.html#density-estimations"><i class="fa fa-check"></i><b>6.1</b> Density Estimations</a></li>
<li class="chapter" data-level="6.2" data-path="nonparametric-estimations---basics.html"><a href="nonparametric-estimations---basics.html#kernel-regressions"><i class="fa fa-check"></i><b>6.2</b> Kernel regressions</a></li>
<li class="chapter" data-level="6.3" data-path="nonparametric-estimations---basics.html"><a href="nonparametric-estimations---basics.html#regression-splines"><i class="fa fa-check"></i><b>6.3</b> Regression Splines</a></li>
<li class="chapter" data-level="6.4" data-path="nonparametric-estimations---basics.html"><a href="nonparametric-estimations---basics.html#mars---multivariate-adaptive-regression-splines"><i class="fa fa-check"></i><b>6.4</b> MARS - Multivariate Adaptive Regression Splines</a></li>
<li class="chapter" data-level="6.5" data-path="nonparametric-estimations---basics.html"><a href="nonparametric-estimations---basics.html#gam---generalized-additive-model"><i class="fa fa-check"></i><b>6.5</b> GAM - Generalized Additive Model</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="smoothing.html"><a href="smoothing.html"><i class="fa fa-check"></i><b>7</b> Smoothing</a>
<ul>
<li class="chapter" data-level="7.1" data-path="smoothing.html"><a href="smoothing.html#using-bins"><i class="fa fa-check"></i><b>7.1</b> Using bins</a></li>
<li class="chapter" data-level="7.2" data-path="smoothing.html"><a href="smoothing.html#kernel-smoothing"><i class="fa fa-check"></i><b>7.2</b> Kernel smoothing</a></li>
<li class="chapter" data-level="7.3" data-path="smoothing.html"><a href="smoothing.html#locally-weighted-regression-loess"><i class="fa fa-check"></i><b>7.3</b> Locally weighted regression <code>loess()</code></a></li>
<li class="chapter" data-level="7.4" data-path="smoothing.html"><a href="smoothing.html#smooth-spline-regression"><i class="fa fa-check"></i><b>7.4</b> Smooth Spline Regression</a></li>
<li class="chapter" data-level="7.5" data-path="smoothing.html"><a href="smoothing.html#multivariate-loess"><i class="fa fa-check"></i><b>7.5</b> Multivariate Loess</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="nonparametric-classifier---knn.html"><a href="nonparametric-classifier---knn.html"><i class="fa fa-check"></i><b>8</b> Nonparametric Classifier - kNN</a>
<ul>
<li class="chapter" data-level="8.1" data-path="nonparametric-classifier---knn.html"><a href="nonparametric-classifier---knn.html#mnist-dataset"><i class="fa fa-check"></i><b>8.1</b> <code>mnist</code> Dataset</a></li>
<li class="chapter" data-level="8.2" data-path="nonparametric-classifier---knn.html"><a href="nonparametric-classifier---knn.html#linear-classifiers-again"><i class="fa fa-check"></i><b>8.2</b> Linear classifiers (again)</a></li>
<li class="chapter" data-level="8.3" data-path="nonparametric-classifier---knn.html"><a href="nonparametric-classifier---knn.html#k-nearest-neighbors"><i class="fa fa-check"></i><b>8.3</b> k-Nearest Neighbors</a></li>
<li class="chapter" data-level="8.4" data-path="nonparametric-classifier---knn.html"><a href="nonparametric-classifier---knn.html#knn-with-caret"><i class="fa fa-check"></i><b>8.4</b> kNN with caret</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="nonparametric-classifier---knn.html"><a href="nonparametric-classifier---knn.html#mnist_27"><i class="fa fa-check"></i><b>8.4.1</b> <code>mnist_27</code></a></li>
<li class="chapter" data-level="8.4.2" data-path="nonparametric-classifier---knn.html"><a href="nonparametric-classifier---knn.html#adult-dataset"><i class="fa fa-check"></i><b>8.4.2</b> Adult dataset</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Self-Learning</b></span></li>
<li class="chapter" data-level="9" data-path="hyperparameter-tuning.html"><a href="hyperparameter-tuning.html"><i class="fa fa-check"></i><b>9</b> Hyperparameter Tuning</a>
<ul>
<li class="chapter" data-level="9.1" data-path="hyperparameter-tuning.html"><a href="hyperparameter-tuning.html#training-validation-and-test-datasets"><i class="fa fa-check"></i><b>9.1</b> Training, validation, and test datasets</a></li>
<li class="chapter" data-level="9.2" data-path="hyperparameter-tuning.html"><a href="hyperparameter-tuning.html#splitting-the-data-randomly"><i class="fa fa-check"></i><b>9.2</b> Splitting the data randomly</a></li>
<li class="chapter" data-level="9.3" data-path="hyperparameter-tuning.html"><a href="hyperparameter-tuning.html#k-fold-cross-validation"><i class="fa fa-check"></i><b>9.3</b> k-fold cross validation</a></li>
<li class="chapter" data-level="9.4" data-path="hyperparameter-tuning.html"><a href="hyperparameter-tuning.html#cross-validated-grid-search"><i class="fa fa-check"></i><b>9.4</b> Cross-validated grid search</a></li>
<li class="chapter" data-level="9.5" data-path="hyperparameter-tuning.html"><a href="hyperparameter-tuning.html#bootstrapped-grid-search"><i class="fa fa-check"></i><b>9.5</b> Bootstrapped grid search</a></li>
<li class="chapter" data-level="9.6" data-path="hyperparameter-tuning.html"><a href="hyperparameter-tuning.html#when-the-data-is-time-series"><i class="fa fa-check"></i><b>9.6</b> When the data is time-series</a></li>
<li class="chapter" data-level="9.7" data-path="hyperparameter-tuning.html"><a href="hyperparameter-tuning.html#speed"><i class="fa fa-check"></i><b>9.7</b> Speed</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tuning-in-classification.html"><a href="tuning-in-classification.html"><i class="fa fa-check"></i><b>10</b> Tuning in Classification</a>
<ul>
<li class="chapter" data-level="10.1" data-path="tuning-in-classification.html"><a href="tuning-in-classification.html#confusion-matrix"><i class="fa fa-check"></i><b>10.1</b> Confusion matrix</a></li>
<li class="chapter" data-level="10.2" data-path="tuning-in-classification.html"><a href="tuning-in-classification.html#performance-measures"><i class="fa fa-check"></i><b>10.2</b> Performance measures</a></li>
<li class="chapter" data-level="10.3" data-path="tuning-in-classification.html"><a href="tuning-in-classification.html#roc---reciever-operating-curve"><i class="fa fa-check"></i><b>10.3</b> ROC - Reciever Operating Curve</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="classification-example.html"><a href="classification-example.html"><i class="fa fa-check"></i><b>11</b> Classification Example</a>
<ul>
<li class="chapter" data-level="11.1" data-path="classification-example.html"><a href="classification-example.html#lpm"><i class="fa fa-check"></i><b>11.1</b> LPM</a></li>
<li class="chapter" data-level="11.2" data-path="classification-example.html"><a href="classification-example.html#logistic-regression-1"><i class="fa fa-check"></i><b>11.2</b> Logistic Regression</a></li>
<li class="chapter" data-level="11.3" data-path="classification-example.html"><a href="classification-example.html#knn"><i class="fa fa-check"></i><b>11.3</b> kNN</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="classification-example.html"><a href="classification-example.html#knn-10-fold-cv"><i class="fa fa-check"></i><b>11.3.1</b> kNN 10-fold CV</a></li>
<li class="chapter" data-level="11.3.2" data-path="classification-example.html"><a href="classification-example.html#knn-with-caret-1"><i class="fa fa-check"></i><b>11.3.2</b> kNN with <code>caret</code></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Tree-based Models</b></span></li>
<li class="chapter" data-level="12" data-path="cart.html"><a href="cart.html"><i class="fa fa-check"></i><b>12</b> CART</a>
<ul>
<li class="chapter" data-level="12.1" data-path="cart.html"><a href="cart.html#cart---classification-tree"><i class="fa fa-check"></i><b>12.1</b> CART - Classification Tree</a></li>
<li class="chapter" data-level="12.2" data-path="cart.html"><a href="cart.html#rpart---recursive-partitioning"><i class="fa fa-check"></i><b>12.2</b> <code>rpart()</code> - Recursive Partitioning</a></li>
<li class="chapter" data-level="12.3" data-path="cart.html"><a href="cart.html#pruning"><i class="fa fa-check"></i><b>12.3</b> Pruning</a></li>
<li class="chapter" data-level="12.4" data-path="cart.html"><a href="cart.html#classification-with-titanic"><i class="fa fa-check"></i><b>12.4</b> Classification with Titanic</a></li>
<li class="chapter" data-level="12.5" data-path="cart.html"><a href="cart.html#regression-tree"><i class="fa fa-check"></i><b>12.5</b> Regression Tree</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="ensemble-learning.html"><a href="ensemble-learning.html"><i class="fa fa-check"></i><b>13</b> Ensemble learning</a>
<ul>
<li class="chapter" data-level="13.1" data-path="ensemble-learning.html"><a href="ensemble-learning.html#bagging"><i class="fa fa-check"></i><b>13.1</b> Bagging</a></li>
<li class="chapter" data-level="13.2" data-path="ensemble-learning.html"><a href="ensemble-learning.html#random-forest"><i class="fa fa-check"></i><b>13.2</b> Random Forest</a></li>
<li class="chapter" data-level="13.3" data-path="ensemble-learning.html"><a href="ensemble-learning.html#boosting"><i class="fa fa-check"></i><b>13.3</b> Boosting</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="ensemble-learning.html"><a href="ensemble-learning.html#sequential-ensemble-with-gbm"><i class="fa fa-check"></i><b>13.3.1</b> Sequential ensemble with <code>gbm</code></a></li>
<li class="chapter" data-level="13.3.2" data-path="ensemble-learning.html"><a href="ensemble-learning.html#adaboost"><i class="fa fa-check"></i><b>13.3.2</b> AdaBoost</a></li>
<li class="chapter" data-level="13.3.3" data-path="ensemble-learning.html"><a href="ensemble-learning.html#extreme-gradient-boosting-xgboost"><i class="fa fa-check"></i><b>13.3.3</b> Extreme Gradient Boosting (XGBoost)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ensemble-applications.html"><a href="ensemble-applications.html"><i class="fa fa-check"></i><b>14</b> Ensemble Applications</a>
<ul>
<li class="chapter" data-level="14.1" data-path="ensemble-applications.html"><a href="ensemble-applications.html#classification"><i class="fa fa-check"></i><b>14.1</b> Classification</a></li>
<li class="chapter" data-level="14.2" data-path="ensemble-applications.html"><a href="ensemble-applications.html#regression"><i class="fa fa-check"></i><b>14.2</b> Regression</a></li>
<li class="chapter" data-level="14.3" data-path="ensemble-applications.html"><a href="ensemble-applications.html#dataset-level-explainers"><i class="fa fa-check"></i><b>14.3</b> Dataset-level explainers</a></li>
<li class="chapter" data-level="14.4" data-path="ensemble-applications.html"><a href="ensemble-applications.html#boosting-applications"><i class="fa fa-check"></i><b>14.4</b> Boosting Applications</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="ensemble-applications.html"><a href="ensemble-applications.html#regression-1"><i class="fa fa-check"></i><b>14.4.1</b> Regression</a></li>
<li class="chapter" data-level="14.4.2" data-path="ensemble-applications.html"><a href="ensemble-applications.html#random-search-with-parallel-processing"><i class="fa fa-check"></i><b>14.4.2</b> Random search with parallel processing</a></li>
<li class="chapter" data-level="14.4.3" data-path="ensemble-applications.html"><a href="ensemble-applications.html#boosting-vs.-others"><i class="fa fa-check"></i><b>14.4.3</b> Boosting vs. Others</a></li>
<li class="chapter" data-level="14.4.4" data-path="ensemble-applications.html"><a href="ensemble-applications.html#classification-1"><i class="fa fa-check"></i><b>14.4.4</b> Classification</a></li>
<li class="chapter" data-level="14.4.5" data-path="ensemble-applications.html"><a href="ensemble-applications.html#adaboost.m1"><i class="fa fa-check"></i><b>14.4.5</b> AdaBoost.M1</a></li>
<li class="chapter" data-level="14.4.6" data-path="ensemble-applications.html"><a href="ensemble-applications.html#classification-with-xgboost"><i class="fa fa-check"></i><b>14.4.6</b> Classification with XGBoost</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V SVM &amp; Neural Networks</b></span></li>
<li class="chapter" data-level="15" data-path="support-vector-machines.html"><a href="support-vector-machines.html"><i class="fa fa-check"></i><b>15</b> Support Vector Machines</a>
<ul>
<li class="chapter" data-level="15.1" data-path="support-vector-machines.html"><a href="support-vector-machines.html#optimal-separating-classifier"><i class="fa fa-check"></i><b>15.1</b> Optimal Separating Classifier</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="support-vector-machines.html"><a href="support-vector-machines.html#the-margin"><i class="fa fa-check"></i><b>15.1.1</b> The Margin</a></li>
<li class="chapter" data-level="15.1.2" data-path="support-vector-machines.html"><a href="support-vector-machines.html#the-non-separable-case"><i class="fa fa-check"></i><b>15.1.2</b> The Non-Separable Case</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="support-vector-machines.html"><a href="support-vector-machines.html#nonlinear-boundary-with-kernels"><i class="fa fa-check"></i><b>15.2</b> Nonlinear Boundary with Kernels</a></li>
<li class="chapter" data-level="15.3" data-path="support-vector-machines.html"><a href="support-vector-machines.html#application-with-svm"><i class="fa fa-check"></i><b>15.3</b> Application with SVM</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="artificial-neural-networks.html"><a href="artificial-neural-networks.html"><i class="fa fa-check"></i><b>16</b> Artificial Neural Networks</a>
<ul>
<li class="chapter" data-level="16.1" data-path="artificial-neural-networks.html"><a href="artificial-neural-networks.html#neural-network---the-idea"><i class="fa fa-check"></i><b>16.1</b> Neural Network - the idea</a></li>
<li class="chapter" data-level="16.2" data-path="artificial-neural-networks.html"><a href="artificial-neural-networks.html#backpropagation"><i class="fa fa-check"></i><b>16.2</b> Backpropagation</a></li>
<li class="chapter" data-level="16.3" data-path="artificial-neural-networks.html"><a href="artificial-neural-networks.html#neural-network---more-inputs"><i class="fa fa-check"></i><b>16.3</b> Neural Network - More inputs</a></li>
<li class="chapter" data-level="16.4" data-path="artificial-neural-networks.html"><a href="artificial-neural-networks.html#deep-learning"><i class="fa fa-check"></i><b>16.4</b> Deep Learning</a></li>
</ul></li>
<li class="part"><span><b>VI Penalized Regressions</b></span></li>
<li class="chapter" data-level="" data-path="parametric-models-in-prediction.html"><a href="parametric-models-in-prediction.html"><i class="fa fa-check"></i>Parametric models in prediction</a></li>
<li class="chapter" data-level="17" data-path="ridge.html"><a href="ridge.html"><i class="fa fa-check"></i><b>17</b> Ridge</a></li>
<li class="chapter" data-level="18" data-path="lasso.html"><a href="lasso.html"><i class="fa fa-check"></i><b>18</b> Lasso</a></li>
<li class="chapter" data-level="19" data-path="adaptive-lasso.html"><a href="adaptive-lasso.html"><i class="fa fa-check"></i><b>19</b> Adaptive Lasso</a></li>
<li class="chapter" data-level="20" data-path="sparsity.html"><a href="sparsity.html"><i class="fa fa-check"></i><b>20</b> Sparsity</a></li>
<li class="part"><span><b>VII Time Series</b></span></li>
<li class="chapter" data-level="" data-path="forecasting.html"><a href="forecasting.html"><i class="fa fa-check"></i>Forecasting</a></li>
<li class="chapter" data-level="21" data-path="arima-models.html"><a href="arima-models.html"><i class="fa fa-check"></i><b>21</b> ARIMA models</a>
<ul>
<li class="chapter" data-level="21.1" data-path="arima-models.html"><a href="arima-models.html#hyndman-khandakar-algorithm"><i class="fa fa-check"></i><b>21.1</b> Hyndman-Khandakar algorithm</a></li>
<li class="chapter" data-level="21.2" data-path="arima-models.html"><a href="arima-models.html#ts-plots"><i class="fa fa-check"></i><b>21.2</b> TS Plots</a></li>
<li class="chapter" data-level="21.3" data-path="arima-models.html"><a href="arima-models.html#box-cox-transformation"><i class="fa fa-check"></i><b>21.3</b> Box-Cox transformation</a></li>
<li class="chapter" data-level="21.4" data-path="arima-models.html"><a href="arima-models.html#stationarity"><i class="fa fa-check"></i><b>21.4</b> Stationarity</a></li>
<li class="chapter" data-level="21.5" data-path="arima-models.html"><a href="arima-models.html#modeling-arima"><i class="fa fa-check"></i><b>21.5</b> Modeling ARIMA</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="grid-search-for-arima.html"><a href="grid-search-for-arima.html"><i class="fa fa-check"></i><b>22</b> Grid search for ARIMA</a></li>
<li class="chapter" data-level="23" data-path="time-series-embedding.html"><a href="time-series-embedding.html"><i class="fa fa-check"></i><b>23</b> Time Series Embedding</a>
<ul>
<li class="chapter" data-level="23.1" data-path="time-series-embedding.html"><a href="time-series-embedding.html#var-for-recursive-forecasting"><i class="fa fa-check"></i><b>23.1</b> VAR for Recursive Forecasting</a></li>
<li class="chapter" data-level="23.2" data-path="time-series-embedding.html"><a href="time-series-embedding.html#embedding-for-direct-forecast"><i class="fa fa-check"></i><b>23.2</b> Embedding for Direct Forecast</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="random-forest-1.html"><a href="random-forest-1.html"><i class="fa fa-check"></i><b>24</b> Random Forest</a>
<ul>
<li class="chapter" data-level="24.1" data-path="random-forest-1.html"><a href="random-forest-1.html#univariate"><i class="fa fa-check"></i><b>24.1</b> Univariate</a></li>
<li class="chapter" data-level="24.2" data-path="random-forest-1.html"><a href="random-forest-1.html#multivariate"><i class="fa fa-check"></i><b>24.2</b> Multivariate</a></li>
<li class="chapter" data-level="24.3" data-path="random-forest-1.html"><a href="random-forest-1.html#rolling-and-expanding-windows"><i class="fa fa-check"></i><b>24.3</b> Rolling and expanding windows</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="recurrent-neural-networks.html"><a href="recurrent-neural-networks.html"><i class="fa fa-check"></i><b>25</b> Recurrent Neural Networks</a>
<ul>
<li class="chapter" data-level="25.1" data-path="recurrent-neural-networks.html"><a href="recurrent-neural-networks.html#keras"><i class="fa fa-check"></i><b>25.1</b> Keras</a></li>
<li class="chapter" data-level="25.2" data-path="recurrent-neural-networks.html"><a href="recurrent-neural-networks.html#input-tensors"><i class="fa fa-check"></i><b>25.2</b> Input Tensors</a></li>
<li class="chapter" data-level="25.3" data-path="recurrent-neural-networks.html"><a href="recurrent-neural-networks.html#plain-rnn"><i class="fa fa-check"></i><b>25.3</b> Plain RNN</a></li>
<li class="chapter" data-level="25.4" data-path="recurrent-neural-networks.html"><a href="recurrent-neural-networks.html#lstm"><i class="fa fa-check"></i><b>25.4</b> LSTM</a></li>
</ul></li>
<li class="part"><span><b>VIII Dimension Reduction Methods</b></span></li>
<li class="chapter" data-level="" data-path="matrix-decompositions.html"><a href="matrix-decompositions.html"><i class="fa fa-check"></i>Matrix Decompositions</a></li>
<li class="chapter" data-level="26" data-path="eigenvectors-and-eigenvalues.html"><a href="eigenvectors-and-eigenvalues.html"><i class="fa fa-check"></i><b>26</b> Eigenvectors and eigenvalues</a></li>
<li class="chapter" data-level="27" data-path="singular-value-decomposition.html"><a href="singular-value-decomposition.html"><i class="fa fa-check"></i><b>27</b> Singular Value Decomposition</a></li>
<li class="chapter" data-level="28" data-path="rankr-approximations.html"><a href="rankr-approximations.html"><i class="fa fa-check"></i><b>28</b> Rank(r) Approximations</a></li>
<li class="chapter" data-level="29" data-path="moore-penrose-inverse.html"><a href="moore-penrose-inverse.html"><i class="fa fa-check"></i><b>29</b> Moore-Penrose inverse</a></li>
<li class="chapter" data-level="30" data-path="principle-component-analysis.html"><a href="principle-component-analysis.html"><i class="fa fa-check"></i><b>30</b> Principle Component Analysis</a></li>
<li class="chapter" data-level="31" data-path="factor-analysis.html"><a href="factor-analysis.html"><i class="fa fa-check"></i><b>31</b> Factor Analysis</a></li>
<li class="part"><span><b>IX Network Analysis</b></span></li>
<li class="chapter" data-level="" data-path="graphical-network-analysis.html"><a href="graphical-network-analysis.html"><i class="fa fa-check"></i>Graphical Network Analysis</a></li>
<li class="chapter" data-level="32" data-path="fundementals.html"><a href="fundementals.html"><i class="fa fa-check"></i><b>32</b> Fundementals</a>
<ul>
<li class="chapter" data-level="32.1" data-path="fundementals.html"><a href="fundementals.html#covariance"><i class="fa fa-check"></i><b>32.1</b> Covariance</a></li>
<li class="chapter" data-level="32.2" data-path="fundementals.html"><a href="fundementals.html#correlation"><i class="fa fa-check"></i><b>32.2</b> Correlation</a></li>
<li class="chapter" data-level="32.3" data-path="fundementals.html"><a href="fundementals.html#precision-matrix"><i class="fa fa-check"></i><b>32.3</b> Precision matrix</a></li>
<li class="chapter" data-level="32.4" data-path="fundementals.html"><a href="fundementals.html#semi-partial-correlation"><i class="fa fa-check"></i><b>32.4</b> Semi-partial correlation</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="regularized-covariance-matrix.html"><a href="regularized-covariance-matrix.html"><i class="fa fa-check"></i><b>33</b> Regularized covariance matrix</a>
<ul>
<li class="chapter" data-level="33.1" data-path="regularized-covariance-matrix.html"><a href="regularized-covariance-matrix.html#mle"><i class="fa fa-check"></i><b>33.1</b> MLE</a></li>
<li class="chapter" data-level="33.2" data-path="regularized-covariance-matrix.html"><a href="regularized-covariance-matrix.html#high-dimensional-data"><i class="fa fa-check"></i><b>33.2</b> High-dimensional data</a></li>
<li class="chapter" data-level="33.3" data-path="regularized-covariance-matrix.html"><a href="regularized-covariance-matrix.html#ridge-ell_2-and-glasso-ell_1"><i class="fa fa-check"></i><b>33.3</b> Ridge (<span class="math inline">\(\ell_{2}\)</span>) and glasso (<span class="math inline">\(\ell_{1}\)</span>)</a></li>
<li class="chapter" data-level="33.4" data-path="regularized-covariance-matrix.html"><a href="regularized-covariance-matrix.html#whats-graphical---graphical-ridge-or-glasso"><i class="fa fa-check"></i><b>33.4</b> What’s graphical - graphical ridge or glasso?</a></li>
</ul></li>
<li class="part"><span><b>X Labs</b></span></li>
<li class="chapter" data-level="34" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html"><i class="fa fa-check"></i><b>34</b> R Lab 1 - Basics I</a>
<ul>
<li class="chapter" data-level="34.1" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html#r-rstudio-and-r-packages"><i class="fa fa-check"></i><b>34.1</b> R, RStudio, and R Packages</a></li>
<li class="chapter" data-level="34.2" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html#rstudio"><i class="fa fa-check"></i><b>34.2</b> RStudio</a></li>
<li class="chapter" data-level="34.3" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html#working-directory"><i class="fa fa-check"></i><b>34.3</b> Working directory</a></li>
<li class="chapter" data-level="34.4" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html#data-types-and-stuctures"><i class="fa fa-check"></i><b>34.4</b> Data Types and Stuctures</a></li>
<li class="chapter" data-level="34.5" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html#vectors"><i class="fa fa-check"></i><b>34.5</b> Vectors</a></li>
<li class="chapter" data-level="34.6" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html#subsetting-vectors"><i class="fa fa-check"></i><b>34.6</b> Subsetting Vectors</a></li>
<li class="chapter" data-level="34.7" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html#vectorization-or-vector-operations"><i class="fa fa-check"></i><b>34.7</b> Vectorization or vector operations</a></li>
<li class="chapter" data-level="34.8" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html#matrices"><i class="fa fa-check"></i><b>34.8</b> Matrices</a></li>
<li class="chapter" data-level="34.9" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html#matrix-operations"><i class="fa fa-check"></i><b>34.9</b> Matrix Operations</a></li>
<li class="chapter" data-level="34.10" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html#subsetting-matrix"><i class="fa fa-check"></i><b>34.10</b> Subsetting Matrix</a></li>
<li class="chapter" data-level="34.11" data-path="r-lab-1---basics-i.html"><a href="r-lab-1---basics-i.html#r-style-guide"><i class="fa fa-check"></i><b>34.11</b> R-Style Guide</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html"><i class="fa fa-check"></i><b>35</b> R Lab 2 - Basics II</a>
<ul>
<li class="chapter" data-level="35.1" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#data-frames-and-lists"><i class="fa fa-check"></i><b>35.1</b> Data frames and lists</a>
<ul>
<li class="chapter" data-level="35.1.1" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#lists"><i class="fa fa-check"></i><b>35.1.1</b> Lists</a></li>
<li class="chapter" data-level="35.1.2" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#data-frames"><i class="fa fa-check"></i><b>35.1.2</b> Data Frames</a></li>
<li class="chapter" data-level="35.1.3" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#reading-importing-and-writting-exporting-data-files"><i class="fa fa-check"></i><b>35.1.3</b> Reading (importing) and writting (exporting) data files</a></li>
<li class="chapter" data-level="35.1.4" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#subsetting-data-frames"><i class="fa fa-check"></i><b>35.1.4</b> Subsetting Data Frames</a></li>
<li class="chapter" data-level="35.1.5" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#plotting-from-data-frame"><i class="fa fa-check"></i><b>35.1.5</b> Plotting from data frame</a></li>
<li class="chapter" data-level="35.1.6" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#some-useful-functions"><i class="fa fa-check"></i><b>35.1.6</b> Some useful functions</a></li>
<li class="chapter" data-level="35.1.7" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#categorical-variables-in-data-frames"><i class="fa fa-check"></i><b>35.1.7</b> Categorical Variables in Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="35.2" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#programming-basics"><i class="fa fa-check"></i><b>35.2</b> Programming Basics</a>
<ul>
<li class="chapter" data-level="35.2.1" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#ifelse"><i class="fa fa-check"></i><b>35.2.1</b> if/Else</a></li>
<li class="chapter" data-level="35.2.2" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#loops"><i class="fa fa-check"></i><b>35.2.2</b> Loops</a></li>
<li class="chapter" data-level="35.2.3" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#the-apply-family"><i class="fa fa-check"></i><b>35.2.3</b> The <code>apply()</code> family</a></li>
<li class="chapter" data-level="35.2.4" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#functions"><i class="fa fa-check"></i><b>35.2.4</b> Functions</a></li>
<li class="chapter" data-level="35.2.5" data-path="r-lab-2---basics-ii.html"><a href="r-lab-2---basics-ii.html#dplyr"><i class="fa fa-check"></i><b>35.2.5</b> <code>dplyr()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="36" data-path="r-lab-3---preparing-the-data.html"><a href="r-lab-3---preparing-the-data.html"><i class="fa fa-check"></i><b>36</b> R Lab 3 - Preparing the data</a>
<ul>
<li class="chapter" data-level="36.1" data-path="r-lab-3---preparing-the-data.html"><a href="r-lab-3---preparing-the-data.html#preparing-the-data-for-a-regression-analysis-with-lm"><i class="fa fa-check"></i><b>36.1</b> Preparing the data for a regression analysis with <code>lm()</code></a>
<ul>
<li class="chapter" data-level="36.1.1" data-path="r-lab-3---preparing-the-data.html"><a href="r-lab-3---preparing-the-data.html#factor-variables"><i class="fa fa-check"></i><b>36.1.1</b> Factor variables</a></li>
<li class="chapter" data-level="36.1.2" data-path="r-lab-3---preparing-the-data.html"><a href="r-lab-3---preparing-the-data.html#dummy-coding"><i class="fa fa-check"></i><b>36.1.2</b> Dummy Coding</a></li>
<li class="chapter" data-level="36.1.3" data-path="r-lab-3---preparing-the-data.html"><a href="r-lab-3---preparing-the-data.html#column-variable-names"><i class="fa fa-check"></i><b>36.1.3</b> Column (Variable) names</a></li>
<li class="chapter" data-level="36.1.4" data-path="r-lab-3---preparing-the-data.html"><a href="r-lab-3---preparing-the-data.html#data-subsetting-and-missing-values"><i class="fa fa-check"></i><b>36.1.4</b> Data subsetting and missing values</a></li>
</ul></li>
<li class="chapter" data-level="36.2" data-path="r-lab-3---preparing-the-data.html"><a href="r-lab-3---preparing-the-data.html#dummy-variable-models"><i class="fa fa-check"></i><b>36.2</b> “DUMMY” variable models</a>
<ul>
<li class="chapter" data-level="36.2.1" data-path="r-lab-3---preparing-the-data.html"><a href="r-lab-3---preparing-the-data.html#mtcars-example"><i class="fa fa-check"></i><b>36.2.1</b> <code>mtcars</code> example</a></li>
<li class="chapter" data-level="36.2.2" data-path="r-lab-3---preparing-the-data.html"><a href="r-lab-3---preparing-the-data.html#model.matrix"><i class="fa fa-check"></i><b>36.2.2</b> <code>model.matrix()</code></a></li>
<li class="chapter" data-level="36.2.3" data-path="r-lab-3---preparing-the-data.html"><a href="r-lab-3---preparing-the-data.html#example-with-a-bigger-data-set-autompg"><i class="fa fa-check"></i><b>36.2.3</b> Example with a bigger data set: <code>Autompg</code></a></li>
<li class="chapter" data-level="36.2.4" data-path="r-lab-3---preparing-the-data.html"><a href="r-lab-3---preparing-the-data.html#some-more-data-management-tools-for-subsetting-complete.cases-is.na-and-within"><i class="fa fa-check"></i><b>36.2.4</b> Some more data management tools for subsetting: <code>complete.cases()</code>, <code>is.na()</code>, and <code>within()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="37" data-path="r-lab-4---simulation-in-r.html"><a href="r-lab-4---simulation-in-r.html"><i class="fa fa-check"></i><b>37</b> R Lab 4 - Simulation in R</a>
<ul>
<li class="chapter" data-level="37.1" data-path="r-lab-4---simulation-in-r.html"><a href="r-lab-4---simulation-in-r.html#sampling-in-r-sample"><i class="fa fa-check"></i><b>37.1</b> Sampling in R: <code>sample()</code></a></li>
<li class="chapter" data-level="37.2" data-path="r-lab-4---simulation-in-r.html"><a href="r-lab-4---simulation-in-r.html#random-number-generating-with-probablity-distributions"><i class="fa fa-check"></i><b>37.2</b> Random number generating with probablity distributions</a></li>
<li class="chapter" data-level="37.3" data-path="r-lab-4---simulation-in-r.html"><a href="r-lab-4---simulation-in-r.html#simulation-for-statistical-inference"><i class="fa fa-check"></i><b>37.3</b> Simulation for statistical inference</a></li>
<li class="chapter" data-level="37.4" data-path="r-lab-4---simulation-in-r.html"><a href="r-lab-4---simulation-in-r.html#creataing-data-with-a-data-generating-model-dgm"><i class="fa fa-check"></i><b>37.4</b> Creataing data with a Data Generating Model (DGM)</a></li>
<li class="chapter" data-level="37.5" data-path="r-lab-4---simulation-in-r.html"><a href="r-lab-4---simulation-in-r.html#bootstrapping"><i class="fa fa-check"></i><b>37.5</b> Bootstrapping</a></li>
<li class="chapter" data-level="37.6" data-path="r-lab-4---simulation-in-r.html"><a href="r-lab-4---simulation-in-r.html#monty-hall---fun-example"><i class="fa fa-check"></i><b>37.6</b> Monty Hall - Fun example</a></li>
</ul></li>
<li class="part"><span><b>XI Appendix</b></span></li>
<li class="chapter" data-level="38" data-path="algorithmic-optimization.html"><a href="algorithmic-optimization.html"><i class="fa fa-check"></i><b>38</b> Algorithmic Optimization</a>
<ul>
<li class="chapter" data-level="38.1" data-path="algorithmic-optimization.html"><a href="algorithmic-optimization.html#brute-force-optimization"><i class="fa fa-check"></i><b>38.1</b> Brute-force optimization</a></li>
<li class="chapter" data-level="38.2" data-path="algorithmic-optimization.html"><a href="algorithmic-optimization.html#derivative-based-methods"><i class="fa fa-check"></i><b>38.2</b> Derivative-based methods</a></li>
<li class="chapter" data-level="38.3" data-path="algorithmic-optimization.html"><a href="algorithmic-optimization.html#ml-estimation-with-logistic-regression"><i class="fa fa-check"></i><b>38.3</b> ML Estimation with logistic regression</a></li>
<li class="chapter" data-level="38.4" data-path="algorithmic-optimization.html"><a href="algorithmic-optimization.html#gradient-descent-algorithm"><i class="fa fa-check"></i><b>38.4</b> Gradient Descent Algorithm</a>
<ul>
<li class="chapter" data-level="38.4.1" data-path="algorithmic-optimization.html"><a href="algorithmic-optimization.html#one-variable"><i class="fa fa-check"></i><b>38.4.1</b> One-variable</a></li>
<li class="chapter" data-level="38.4.2" data-path="algorithmic-optimization.html"><a href="algorithmic-optimization.html#multivariable"><i class="fa fa-check"></i><b>38.4.2</b> Multivariable</a></li>
</ul></li>
<li class="chapter" data-level="38.5" data-path="algorithmic-optimization.html"><a href="algorithmic-optimization.html#optimization-with-r"><i class="fa fa-check"></i><b>38.5</b> Optimization with R</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="imbalanced-data.html"><a href="imbalanced-data.html"><i class="fa fa-check"></i><b>39</b> Imbalanced Data</a>
<ul>
<li class="chapter" data-level="39.1" data-path="imbalanced-data.html"><a href="imbalanced-data.html#smote"><i class="fa fa-check"></i><b>39.1</b> <code>SMOTE</code></a></li>
<li class="chapter" data-level="39.2" data-path="imbalanced-data.html"><a href="imbalanced-data.html#fraud-detection"><i class="fa fa-check"></i><b>39.2</b> Fraud detection</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html"><i class="fa fa-check"></i><b>40</b> Footnotes and citations</a>
<ul>
<li class="chapter" data-level="40.1" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#footnotes"><i class="fa fa-check"></i><b>40.1</b> Footnotes</a></li>
<li class="chapter" data-level="40.2" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#citations"><i class="fa fa-check"></i><b>40.2</b> Citations</a></li>
</ul></li>
<li class="chapter" data-level="41" data-path="blocks.html"><a href="blocks.html"><i class="fa fa-check"></i><b>41</b> Blocks</a>
<ul>
<li class="chapter" data-level="41.1" data-path="blocks.html"><a href="blocks.html#equations"><i class="fa fa-check"></i><b>41.1</b> Equations</a></li>
<li class="chapter" data-level="41.2" data-path="blocks.html"><a href="blocks.html#theorems-and-proofs"><i class="fa fa-check"></i><b>41.2</b> Theorems and proofs</a></li>
<li class="chapter" data-level="41.3" data-path="blocks.html"><a href="blocks.html#callout-blocks"><i class="fa fa-check"></i><b>41.3</b> Callout blocks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/yaydede/toolbox" target="blank"> 2023 Yigit Aydede - Bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Toolbox for Social Scientists and Policy Analysts</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-lab-2---basics-ii" class="section level1 hasAnchor" number="35">
<h1><span class="header-section-number">Chapter 35</span> R Lab 2 - Basics II<a href="r-lab-2---basics-ii.html#r-lab-2---basics-ii" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>What we will review in this lab:</p>
<ol style="list-style-type: decimal">
<li><strong>Data frames and lists</strong>,</li>
<li><strong>Programming Basics</strong>.</li>
</ol>
<div id="data-frames-and-lists" class="section level2 hasAnchor" number="35.1">
<h2><span class="header-section-number">35.1</span> Data frames and lists<a href="r-lab-2---basics-ii.html#data-frames-and-lists" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will begin with lists first to get them out of the way. Although they are not used much in the book, you should know about them.</p>
<div id="lists" class="section level3 hasAnchor" number="35.1.1">
<h3><span class="header-section-number">35.1.1</span> Lists<a href="r-lab-2---basics-ii.html#lists" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A list is a one-dimensional heterogeneous data structure. So it is indexed like a vector with a single integer value, but each element can contain an element of any type. Lets look at some examples of working with them:</p>
<div class="sourceCode" id="cb1386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1386-1"><a href="r-lab-2---basics-ii.html#cb1386-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creation</span></span>
<span id="cb1386-2"><a href="r-lab-2---basics-ii.html#cb1386-2" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">42</span>, <span class="st">&quot;Hello&quot;</span>, <span class="cn">TRUE</span>)</span>
<span id="cb1386-3"><a href="r-lab-2---basics-ii.html#cb1386-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(A)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb1388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1388-1"><a href="r-lab-2---basics-ii.html#cb1388-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(A)</span></code></pre></div>
<pre><code>## List of 3
##  $ : num 42
##  $ : chr &quot;Hello&quot;
##  $ : logi TRUE</code></pre>
<div class="sourceCode" id="cb1390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1390-1"><a href="r-lab-2---basics-ii.html#cb1390-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(A)</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb1392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1392-1"><a href="r-lab-2---basics-ii.html#cb1392-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Another one</span></span>
<span id="cb1392-2"><a href="r-lab-2---basics-ii.html#cb1392-2" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb1392-3"><a href="r-lab-2---basics-ii.html#cb1392-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">a =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>),</span>
<span id="cb1392-4"><a href="r-lab-2---basics-ii.html#cb1392-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">b =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1392-5"><a href="r-lab-2---basics-ii.html#cb1392-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">c =</span> <span class="st">&quot;Hello!&quot;</span>,</span>
<span id="cb1392-6"><a href="r-lab-2---basics-ii.html#cb1392-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">d =</span> <span class="cf">function</span>(<span class="at">arg =</span> <span class="dv">1</span>) {<span class="fu">print</span>(<span class="st">&quot;Hello World!&quot;</span>)},</span>
<span id="cb1392-7"><a href="r-lab-2---basics-ii.html#cb1392-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">X =</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="dv">4</span> , <span class="dv">4</span>)</span>
<span id="cb1392-8"><a href="r-lab-2---basics-ii.html#cb1392-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1392-9"><a href="r-lab-2---basics-ii.html#cb1392-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1392-10"><a href="r-lab-2---basics-ii.html#cb1392-10" aria-hidden="true" tabindex="-1"></a>B</span></code></pre></div>
<pre><code>## $a
## [1] 1 2 3 4
## 
## $b
## [1] TRUE
## 
## $c
## [1] &quot;Hello!&quot;
## 
## $d
## function(arg = 1) {print(&quot;Hello World!&quot;)}
## 
## $X
##      [,1] [,2] [,3] [,4]
## [1,]    0    0    0    0
## [2,]    0    0    0    0
## [3,]    0    0    0    0
## [4,]    0    0    0    0</code></pre>
<div class="sourceCode" id="cb1394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1394-1"><a href="r-lab-2---basics-ii.html#cb1394-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(B)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb1396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1396-1"><a href="r-lab-2---basics-ii.html#cb1396-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(B<span class="sc">$</span>X)</span></code></pre></div>
<pre><code>## [1] 4 4</code></pre>
<div class="sourceCode" id="cb1398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1398-1"><a href="r-lab-2---basics-ii.html#cb1398-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(B)</span></code></pre></div>
<pre><code>## List of 5
##  $ a: num [1:4] 1 2 3 4
##  $ b: logi TRUE
##  $ c: chr &quot;Hello!&quot;
##  $ d:function (arg = 1)  
##   ..- attr(*, &quot;srcref&quot;)= &#39;srcref&#39; int [1:8] 12 15 12 55 15 55 12 12
##   .. ..- attr(*, &quot;srcfile&quot;)=Classes &#39;srcfilecopy&#39;, &#39;srcfile&#39; &lt;environment: 0x7fde394823b0&gt; 
##  $ X: num [1:4, 1:4] 0 0 0 0 0 0 0 0 0 0 ...</code></pre>
<div class="sourceCode" id="cb1400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1400-1"><a href="r-lab-2---basics-ii.html#cb1400-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(B)</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p><img src="png/List.png" width="522" /></p>
<p>Source: <a href="https://stats.idre.ucla.edu/stat/data/intro_r/intro_r.html#(27)" class="uri">https://stats.idre.ucla.edu/stat/data/intro_r/intro_r.html#(27)</a></p>
<p>Lists can be subset using two syntaxes, the <code>$</code> operator, and square brackets <code>[ ]</code>. The <code>$</code> operator returns a named element of a list. The <code>[ ]</code> syntax returns a list, while the <code>[[ ]]</code> returns an element of a list.</p>
<div class="sourceCode" id="cb1402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1402-1"><a href="r-lab-2---basics-ii.html#cb1402-1" aria-hidden="true" tabindex="-1"></a><span class="co">#For example to get the matrix in our list</span></span>
<span id="cb1402-2"><a href="r-lab-2---basics-ii.html#cb1402-2" aria-hidden="true" tabindex="-1"></a>B<span class="sc">$</span>X</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    0    0    0    0
## [2,]    0    0    0    0
## [3,]    0    0    0    0
## [4,]    0    0    0    0</code></pre>
<div class="sourceCode" id="cb1404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1404-1"><a href="r-lab-2---basics-ii.html#cb1404-1" aria-hidden="true" tabindex="-1"></a><span class="co">#or</span></span>
<span id="cb1404-2"><a href="r-lab-2---basics-ii.html#cb1404-2" aria-hidden="true" tabindex="-1"></a>B[<span class="dv">5</span>]</span></code></pre></div>
<pre><code>## $X
##      [,1] [,2] [,3] [,4]
## [1,]    0    0    0    0
## [2,]    0    0    0    0
## [3,]    0    0    0    0
## [4,]    0    0    0    0</code></pre>
<div class="sourceCode" id="cb1406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1406-1"><a href="r-lab-2---basics-ii.html#cb1406-1" aria-hidden="true" tabindex="-1"></a><span class="co">#or</span></span>
<span id="cb1406-2"><a href="r-lab-2---basics-ii.html#cb1406-2" aria-hidden="true" tabindex="-1"></a>B[[<span class="dv">5</span>]]</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    0    0    0    0
## [2,]    0    0    0    0
## [3,]    0    0    0    0
## [4,]    0    0    0    0</code></pre>
<div class="sourceCode" id="cb1408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1408-1"><a href="r-lab-2---basics-ii.html#cb1408-1" aria-hidden="true" tabindex="-1"></a><span class="co">#And to get the (1,3) element of matrix X in list B</span></span>
<span id="cb1408-2"><a href="r-lab-2---basics-ii.html#cb1408-2" aria-hidden="true" tabindex="-1"></a>B[[<span class="dv">5</span>]][<span class="dv">1</span>,<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
</div>
<div id="data-frames" class="section level3 hasAnchor" number="35.1.2">
<h3><span class="header-section-number">35.1.2</span> Data Frames<a href="r-lab-2---basics-ii.html#data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We have seen vectors, matrices, and lists for storing data. We will now introduce a data frame that is the most common way to store and interact with data in this book. Datasets for statistical analysis are typically stored in data frames in R. Unlike a matrix, a data frame can have different data types for each elements (columns). A data frame is a list of vectors (columns - you can think of them as “variables”). So, each vector (column) must contain the same data type, but the different vectors (columns) can store different data types.</p>
<p><strong>However, unlike a list, the columns (elements) of a data frame must all be vectors and have the same length (number of observations)</strong></p>
<p><img src="png/dataframe.png" width="488" /></p>
<p>Data frames combine the features of matrices and lists.</p>
<p>Like matrices, dataframes are <strong>rectangular</strong>, where the columns are variables and the rows are observations of those variables. like lists, dataframes can have elements (column vectors) of <strong>different data types</strong> (some double, some character, etc.) – but they <strong>must be equal length</strong>. Real datasets usually combine variables of different types, so data frames are well suited for storage.</p>
<div class="sourceCode" id="cb1410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1410-1"><a href="r-lab-2---basics-ii.html#cb1410-1" aria-hidden="true" tabindex="-1"></a><span class="co">#One way to do that</span></span>
<span id="cb1410-2"><a href="r-lab-2---basics-ii.html#cb1410-2" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">diabetic =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>), </span>
<span id="cb1410-3"><a href="r-lab-2---basics-ii.html#cb1410-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">height =</span> <span class="fu">c</span>(<span class="dv">65</span>, <span class="dv">69</span>, <span class="dv">71</span>, <span class="dv">73</span>))</span>
<span id="cb1410-4"><a href="r-lab-2---basics-ii.html#cb1410-4" aria-hidden="true" tabindex="-1"></a>mydata</span></code></pre></div>
<pre><code>##   diabetic height
## 1     TRUE     65
## 2    FALSE     69
## 3     TRUE     71
## 4    FALSE     73</code></pre>
<div class="sourceCode" id="cb1412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1412-1"><a href="r-lab-2---basics-ii.html#cb1412-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mydata)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    4 obs. of  2 variables:
##  $ diabetic: logi  TRUE FALSE TRUE FALSE
##  $ height  : num  65 69 71 73</code></pre>
<div class="sourceCode" id="cb1414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1414-1"><a href="r-lab-2---basics-ii.html#cb1414-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(mydata)</span></code></pre></div>
<pre><code>## [1] 4 2</code></pre>
<div class="sourceCode" id="cb1416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1416-1"><a href="r-lab-2---basics-ii.html#cb1416-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Or create vectors for each column</span></span>
<span id="cb1416-2"><a href="r-lab-2---basics-ii.html#cb1416-2" aria-hidden="true" tabindex="-1"></a>diabetic <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb1416-3"><a href="r-lab-2---basics-ii.html#cb1416-3" aria-hidden="true" tabindex="-1"></a>height <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">65</span>, <span class="dv">69</span>, <span class="dv">71</span>, <span class="dv">73</span>)</span>
<span id="cb1416-4"><a href="r-lab-2---basics-ii.html#cb1416-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1416-5"><a href="r-lab-2---basics-ii.html#cb1416-5" aria-hidden="true" tabindex="-1"></a><span class="co">#And include them in a dataframe as follows</span></span>
<span id="cb1416-6"><a href="r-lab-2---basics-ii.html#cb1416-6" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(diabetic, height)</span>
<span id="cb1416-7"><a href="r-lab-2---basics-ii.html#cb1416-7" aria-hidden="true" tabindex="-1"></a>mydata</span></code></pre></div>
<pre><code>##   diabetic height
## 1     TRUE     65
## 2    FALSE     69
## 3     TRUE     71
## 4    FALSE     73</code></pre>
<div class="sourceCode" id="cb1418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1418-1"><a href="r-lab-2---basics-ii.html#cb1418-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mydata)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    4 obs. of  2 variables:
##  $ diabetic: logi  TRUE FALSE TRUE FALSE
##  $ height  : num  65 69 71 73</code></pre>
<div class="sourceCode" id="cb1420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1420-1"><a href="r-lab-2---basics-ii.html#cb1420-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(mydata)</span></code></pre></div>
<pre><code>## [1] 4 2</code></pre>
<div class="sourceCode" id="cb1422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1422-1"><a href="r-lab-2---basics-ii.html#cb1422-1" aria-hidden="true" tabindex="-1"></a><span class="co">#And more importantly, you can extend it by adding more columns</span></span>
<span id="cb1422-2"><a href="r-lab-2---basics-ii.html#cb1422-2" aria-hidden="true" tabindex="-1"></a>weight <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">103</span>, <span class="dv">45</span>, <span class="fl">98.4</span>, <span class="fl">70.5</span>)</span>
<span id="cb1422-3"><a href="r-lab-2---basics-ii.html#cb1422-3" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(mydata, weight)</span>
<span id="cb1422-4"><a href="r-lab-2---basics-ii.html#cb1422-4" aria-hidden="true" tabindex="-1"></a>mydata</span></code></pre></div>
<pre><code>##   diabetic height weight
## 1     TRUE     65  103.0
## 2    FALSE     69   45.0
## 3     TRUE     71   98.4
## 4    FALSE     73   70.5</code></pre>
<p>You will have the following mistake a lot. Let’s see it now so you can avoid it later.</p>
<div class="sourceCode" id="cb1424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1424-1"><a href="r-lab-2---basics-ii.html#cb1424-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Try running the code below separately without the comment # and see what happens</span></span>
<span id="cb1424-2"><a href="r-lab-2---basics-ii.html#cb1424-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1424-3"><a href="r-lab-2---basics-ii.html#cb1424-3" aria-hidden="true" tabindex="-1"></a><span class="co">#mydata &lt;- data.frame(diabetic = c(TRUE, FALSE, TRUE, FALSE, FALSE), </span></span>
<span id="cb1424-4"><a href="r-lab-2---basics-ii.html#cb1424-4" aria-hidden="true" tabindex="-1"></a>                     <span class="co">#height = c(65, 69, 71, 73))</span></span></code></pre></div>
<p>The problem in the example above is that there are a different number of rows and columns. Here are some useful tools for diagnosing this problem:</p>
<div class="sourceCode" id="cb1425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1425-1"><a href="r-lab-2---basics-ii.html#cb1425-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Number of columns</span></span>
<span id="cb1425-2"><a href="r-lab-2---basics-ii.html#cb1425-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(mydata)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb1427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1427-1"><a href="r-lab-2---basics-ii.html#cb1427-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(mydata)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>Often data you’re working with has abstract column names, such as (x1, x2, x3…).The dataset cars is data from the 1920s on “Speed and Stopping Distances of Cars”. There is only 2 columns shown below.</p>
<div class="sourceCode" id="cb1429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1429-1"><a href="r-lab-2---basics-ii.html#cb1429-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(datasets<span class="sc">::</span>cars)</span></code></pre></div>
<pre><code>## [1] &quot;speed&quot; &quot;dist&quot;</code></pre>
<div class="sourceCode" id="cb1431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1431-1"><a href="r-lab-2---basics-ii.html#cb1431-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Using Base r:</span></span>
<span id="cb1431-2"><a href="r-lab-2---basics-ii.html#cb1431-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(cars)[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Speed (mph)&quot;</span>, <span class="st">&quot;Stopping Distance (ft)&quot;</span>)</span>
<span id="cb1431-3"><a href="r-lab-2---basics-ii.html#cb1431-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(cars)</span></code></pre></div>
<pre><code>## [1] &quot;Speed (mph)&quot;            &quot;Stopping Distance (ft)&quot;</code></pre>
<div class="sourceCode" id="cb1433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1433-1"><a href="r-lab-2---basics-ii.html#cb1433-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Using GREP:</span></span>
<span id="cb1433-2"><a href="r-lab-2---basics-ii.html#cb1433-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(cars)[<span class="fu">grep</span>(<span class="st">&quot;dist&quot;</span>, <span class="fu">colnames</span>(cars))] <span class="ot">&lt;-</span> <span class="st">&quot;Stopping Distance (ft)&quot;</span></span>
<span id="cb1433-3"><a href="r-lab-2---basics-ii.html#cb1433-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(cars)</span></code></pre></div>
<pre><code>## [1] &quot;Speed (mph)&quot;            &quot;Stopping Distance (ft)&quot;</code></pre>
</div>
<div id="reading-importing-and-writting-exporting-data-files" class="section level3 hasAnchor" number="35.1.3">
<h3><span class="header-section-number">35.1.3</span> Reading (importing) and writting (exporting) data files<a href="r-lab-2---basics-ii.html#reading-importing-and-writting-exporting-data-files" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When you read a data in other formats, they may also be imported as a data frame.</p>
<p>How can we import data into R?</p>
<p>The simple way is here:</p>
<p><img src="png/Import.png" width="276" /></p>
<p>If the data is a .csv file, for example, we would also use the <code>read_csv()</code> function from the <strong>readr</strong> package. Note that R has a built in function <code>read.csv()</code> that operates very similarly. The readr function <code>read_csv()</code> has a number of advantages. For example, it is much faster reading larger data. It also uses the tibble package to read the data as a tibble.</p>
<div class="sourceCode" id="cb1435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1435-1"><a href="r-lab-2---basics-ii.html#cb1435-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library(readr)</span></span>
<span id="cb1435-2"><a href="r-lab-2---basics-ii.html#cb1435-2" aria-hidden="true" tabindex="-1"></a><span class="co"># library(RCurl)</span></span>
<span id="cb1435-3"><a href="r-lab-2---basics-ii.html#cb1435-3" aria-hidden="true" tabindex="-1"></a><span class="co"># x &lt;- getURL(&quot;https://raw.githubusercontent.com/tidyverse/readr/main/inst/extdata/mtcars.csv&quot;)</span></span>
<span id="cb1435-4"><a href="r-lab-2---basics-ii.html#cb1435-4" aria-hidden="true" tabindex="-1"></a><span class="co"># example_csv = read_csv(x, show_col_types = FALSE)</span></span>
<span id="cb1435-5"><a href="r-lab-2---basics-ii.html#cb1435-5" aria-hidden="true" tabindex="-1"></a><span class="co"># head(example_csv)</span></span>
<span id="cb1435-6"><a href="r-lab-2---basics-ii.html#cb1435-6" aria-hidden="true" tabindex="-1"></a><span class="co"># str(example_csv)</span></span></code></pre></div>
<p>A tibble is simply a data frame that prints with sanity. Notice in the output above that we are given additional information such as dimension and variable type.</p>
<p>The <code>as_tibble()</code> function can be used to coerce a regular data frame to a tibble.</p>
<div class="sourceCode" id="cb1436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1436-1"><a href="r-lab-2---basics-ii.html#cb1436-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library(tibble)</span></span>
<span id="cb1436-2"><a href="r-lab-2---basics-ii.html#cb1436-2" aria-hidden="true" tabindex="-1"></a><span class="co"># example_data = as_tibble(example_csv)</span></span>
<span id="cb1436-3"><a href="r-lab-2---basics-ii.html#cb1436-3" aria-hidden="true" tabindex="-1"></a><span class="co"># example_data</span></span></code></pre></div>
<p>It is important to note that while matrices have rows and columns, data frames (tibbles) instead have observations and variables. When displayed in the console or viewer, each row is an observation and each column is a variable. <code>read_csv()</code> assigns the data frame to a class called tibble, a tidyverse structure that slightly alters how data frames behave, such as when they are being created or printed. Tibbles are still data frames, and will work in most functions that require data frame inputs.</p>
<p>By default, tibbles only show the first ten rows of as many columns as will fit on screen. We also see the column types. We can create tibbles manually in a nearly identical manner to data frames with <code>tibble()</code>.</p>
<p>To convert a tibble to a regular data frame (to print the whole data set, for example), use <code>as.data.frame()</code>.</p>
<p>To understand more about the data set, we use the <code>?</code> operator to pull up the documentation for the data. (You can use <code>??</code> to search the Internet for more info)</p>
<div class="sourceCode" id="cb1437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1437-1"><a href="r-lab-2---basics-ii.html#cb1437-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ?mtcars</span></span>
<span id="cb1437-2"><a href="r-lab-2---basics-ii.html#cb1437-2" aria-hidden="true" tabindex="-1"></a><span class="co"># #Results are not shown here</span></span>
<span id="cb1437-3"><a href="r-lab-2---basics-ii.html#cb1437-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb1437-4"><a href="r-lab-2---basics-ii.html#cb1437-4" aria-hidden="true" tabindex="-1"></a><span class="co"># #To access each column</span></span>
<span id="cb1437-5"><a href="r-lab-2---basics-ii.html#cb1437-5" aria-hidden="true" tabindex="-1"></a><span class="co"># example_data$mpg</span></span>
<span id="cb1437-6"><a href="r-lab-2---basics-ii.html#cb1437-6" aria-hidden="true" tabindex="-1"></a><span class="co"># #or</span></span>
<span id="cb1437-7"><a href="r-lab-2---basics-ii.html#cb1437-7" aria-hidden="true" tabindex="-1"></a><span class="co"># example_data[,1]</span></span></code></pre></div>
<p>After importing our data, a quick glance at the dataset can often tell us if the data were read in correctly.</p>
<p>Use <code>head()</code> and <code>tail()</code> to look at a specified number of rows at the beginning or end of a dataset, respectively.</p>
<p>Use <code>View()</code> on a dataset to open a spreadsheet-style view of a dataset. In RStuido, clicking on a dataset in the Environment pane will <code>View()</code> it.</p>
<p>We can export our data in a number of formats, including text, Excel .xlsx, and in other statistical software formats like Stata .dta, using <code>write_functions</code> that reverse the operations of the <code>read_functions</code>.</p>
<p>Multiple objects can be stored in an R binary file (usally extension “.Rdata”) with <code>save()</code> and then later loaded with <code>load()</code>.</p>
<p>I did not specify realistic path names below.</p>
<ul>
<li>Excel .csv file: <code>write_csv(dat_csv, file = "path/to/save/filename.csv")</code></li>
<li>Stata .dta file: <code>write_dta(dat_csv, file = "path/to/save/filename.dta")</code></li>
<li>save these objects to an .Rdata file: <code>save(dat_csv, mydata, file="path/to/save/filename.Rdata")</code></li>
</ul>
<p>One last thing: if you want to save the entire workspace, <code>save.image()</code> is just a short-cut for ‘save my current workspace’, i.e., <code>save(list = ls(all.names = TRUE), file = ".RData", envir = .GlobalEnv)</code>. It is also what happens with <code>q("yes")</code>.</p>
</div>
<div id="subsetting-data-frames" class="section level3 hasAnchor" number="35.1.4">
<h3><span class="header-section-number">35.1.4</span> Subsetting Data Frames<a href="r-lab-2---basics-ii.html#subsetting-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Subsetting data frames can work much like subsetting matrices using square brackets, <code>[,]</code>. Let’s use another data given in the <strong>ggplot2</strong> library.</p>
<div class="sourceCode" id="cb1438"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1438-1"><a href="r-lab-2---basics-ii.html#cb1438-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1438-2"><a href="r-lab-2---basics-ii.html#cb1438-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mpg, <span class="at">n =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 11
##    manufacturer model      displ  year   cyl trans drv     cty   hwy fl    class
##    &lt;chr&gt;        &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;
##  1 audi         a4           1.8  1999     4 auto… f        18    29 p     comp…
##  2 audi         a4           1.8  1999     4 manu… f        21    29 p     comp…
##  3 audi         a4           2    2008     4 manu… f        20    31 p     comp…
##  4 audi         a4           2    2008     4 auto… f        21    30 p     comp…
##  5 audi         a4           2.8  1999     6 auto… f        16    26 p     comp…
##  6 audi         a4           2.8  1999     6 manu… f        18    26 p     comp…
##  7 audi         a4           3.1  2008     6 auto… f        18    27 p     comp…
##  8 audi         a4 quattro   1.8  1999     4 manu… 4        18    26 p     comp…
##  9 audi         a4 quattro   1.8  1999     4 auto… 4        16    25 p     comp…
## 10 audi         a4 quattro   2    2008     4 manu… 4        20    28 p     comp…</code></pre>
<div class="sourceCode" id="cb1440"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1440-1"><a href="r-lab-2---basics-ii.html#cb1440-1" aria-hidden="true" tabindex="-1"></a>mpg[mpg<span class="sc">$</span>hwy <span class="sc">&gt;</span> <span class="dv">35</span>, <span class="fu">c</span>(<span class="st">&quot;manufacturer&quot;</span>, <span class="st">&quot;model&quot;</span>, <span class="st">&quot;year&quot;</span>)]</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
##   manufacturer model       year
##   &lt;chr&gt;        &lt;chr&gt;      &lt;int&gt;
## 1 honda        civic       2008
## 2 honda        civic       2008
## 3 toyota       corolla     2008
## 4 volkswagen   jetta       1999
## 5 volkswagen   new beetle  1999
## 6 volkswagen   new beetle  1999</code></pre>
<p>An alternative would be to use the <code>subset()</code> function, which has a much more readable syntax.</p>
<div class="sourceCode" id="cb1442"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1442-1"><a href="r-lab-2---basics-ii.html#cb1442-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(mpg, <span class="at">subset =</span> hwy <span class="sc">&gt;</span> <span class="dv">35</span>, <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;manufacturer&quot;</span>, <span class="st">&quot;model&quot;</span>, <span class="st">&quot;year&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
##   manufacturer model       year
##   &lt;chr&gt;        &lt;chr&gt;      &lt;int&gt;
## 1 honda        civic       2008
## 2 honda        civic       2008
## 3 toyota       corolla     2008
## 4 volkswagen   jetta       1999
## 5 volkswagen   new beetle  1999
## 6 volkswagen   new beetle  1999</code></pre>
<p>Lastly, we could use the filter and select functions from the <code>dplyr</code> package which introduces the <code>%&gt;%</code> operator from the magrittr package. This is not necessary for this book, however the dplyr package is something you should be aware of as it is becoming a popular tool in the R world.</p>
<div class="sourceCode" id="cb1444"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1444-1"><a href="r-lab-2---basics-ii.html#cb1444-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library(dplyr)</span></span>
<span id="cb1444-2"><a href="r-lab-2---basics-ii.html#cb1444-2" aria-hidden="true" tabindex="-1"></a><span class="co"># mpg %&gt;% filter(hwy &gt; 35) %&gt;% select(manufacturer, model, year)</span></span></code></pre></div>
</div>
<div id="plotting-from-data-frame" class="section level3 hasAnchor" number="35.1.5">
<h3><span class="header-section-number">35.1.5</span> Plotting from data frame<a href="r-lab-2---basics-ii.html#plotting-from-data-frame" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are many good ways and packages for plotting. I’ll show you one here. Visualizing the relationship between multiple variables can get messy very quickly. Here is the <code>ggpairs()</code> function in the <strong>GGally</strong> package <span class="citation">(<a href="#ref-Tay_2019" role="doc-biblioref"><strong>Tay_2019?</strong></a>)</span>.</p>
<div class="sourceCode" id="cb1445"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1445-1"><a href="r-lab-2---basics-ii.html#cb1445-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fueleconomy)  <span class="co">#install.packages(&quot;fueleconomy&quot;)</span></span>
<span id="cb1445-2"><a href="r-lab-2---basics-ii.html#cb1445-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(vehicles)</span>
<span id="cb1445-3"><a href="r-lab-2---basics-ii.html#cb1445-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> vehicles[<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, ]</span>
<span id="cb1445-4"><a href="r-lab-2---basics-ii.html#cb1445-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
<pre><code>## tibble [100 × 12] (S3: tbl_df/tbl/data.frame)
##  $ id   : num [1:100] 13309 13310 13311 14038 14039 ...
##  $ make : chr [1:100] &quot;Acura&quot; &quot;Acura&quot; &quot;Acura&quot; &quot;Acura&quot; ...
##  $ model: chr [1:100] &quot;2.2CL/3.0CL&quot; &quot;2.2CL/3.0CL&quot; &quot;2.2CL/3.0CL&quot; &quot;2.3CL/3.0CL&quot; ...
##  $ year : num [1:100] 1997 1997 1997 1998 1998 ...
##  $ class: chr [1:100] &quot;Subcompact Cars&quot; &quot;Subcompact Cars&quot; &quot;Subcompact Cars&quot; &quot;Subcompact Cars&quot; ...
##  $ trans: chr [1:100] &quot;Automatic 4-spd&quot; &quot;Manual 5-spd&quot; &quot;Automatic 4-spd&quot; &quot;Automatic 4-spd&quot; ...
##  $ drive: chr [1:100] &quot;Front-Wheel Drive&quot; &quot;Front-Wheel Drive&quot; &quot;Front-Wheel Drive&quot; &quot;Front-Wheel Drive&quot; ...
##  $ cyl  : num [1:100] 4 4 6 4 4 6 4 4 6 5 ...
##  $ displ: num [1:100] 2.2 2.2 3 2.3 2.3 3 2.3 2.3 3 2.5 ...
##  $ fuel : chr [1:100] &quot;Regular&quot; &quot;Regular&quot; &quot;Regular&quot; &quot;Regular&quot; ...
##  $ hwy  : num [1:100] 26 28 26 27 29 26 27 29 26 23 ...
##  $ cty  : num [1:100] 20 22 18 19 21 17 20 21 17 18 ...</code></pre>
<p>Let’s see how <code>GGally::ggpairs()</code> visualizes relationships between quantitative variables:</p>
<div class="sourceCode" id="cb1447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1447-1"><a href="r-lab-2---basics-ii.html#cb1447-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally) <span class="co">#install.packages(&quot;GGally&quot;)</span></span>
<span id="cb1447-2"><a href="r-lab-2---basics-ii.html#cb1447-2" aria-hidden="true" tabindex="-1"></a>new_df <span class="ot">&lt;-</span> df[, <span class="fu">c</span>(<span class="st">&quot;cyl&quot;</span>, <span class="st">&quot;hwy&quot;</span>, <span class="st">&quot;cty&quot;</span>)]</span>
<span id="cb1447-3"><a href="r-lab-2---basics-ii.html#cb1447-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpairs</span>(new_df)</span></code></pre></div>
<p><img src="32-RLab2_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>The visualization changes a little when we have a mix of quantitative and categorical variables. Below, fuel is a categorical variable while hwy is a quantitative variable.</p>
<div class="sourceCode" id="cb1448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1448-1"><a href="r-lab-2---basics-ii.html#cb1448-1" aria-hidden="true" tabindex="-1"></a>mixed_df <span class="ot">&lt;-</span> df[, <span class="fu">c</span>(<span class="st">&quot;fuel&quot;</span>, <span class="st">&quot;hwy&quot;</span>)]</span>
<span id="cb1448-2"><a href="r-lab-2---basics-ii.html#cb1448-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpairs</span>(mixed_df)</span></code></pre></div>
<p><img src="32-RLab2_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
<div id="some-useful-functions" class="section level3 hasAnchor" number="35.1.6">
<h3><span class="header-section-number">35.1.6</span> Some useful functions<a href="r-lab-2---basics-ii.html#some-useful-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb1449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1449-1"><a href="r-lab-2---basics-ii.html#cb1449-1" aria-hidden="true" tabindex="-1"></a>my_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">b=</span><span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">2</span>, <span class="dv">5</span>))</span>
<span id="cb1449-2"><a href="r-lab-2---basics-ii.html#cb1449-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1449-3"><a href="r-lab-2---basics-ii.html#cb1449-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Cut a continuous variable into intervals with new integer</span></span>
<span id="cb1449-4"><a href="r-lab-2---basics-ii.html#cb1449-4" aria-hidden="true" tabindex="-1"></a>my_data<span class="sc">$</span>c <span class="ot">&lt;-</span> <span class="fu">cut</span>(my_data<span class="sc">$</span>b, <span class="dv">3</span>)</span>
<span id="cb1449-5"><a href="r-lab-2---basics-ii.html#cb1449-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(my_data)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  3 variables:
##  $ a: int  1 2 3 4 5 6 7 8 9 10
##  $ b: num  -5.721 -2.029 -11.535 4.721 -0.503 ...
##  $ c: Factor w/ 3 levels &quot;(-11.6,-3.72]&quot;,..: 1 2 1 3 2 2 2 3 3 2</code></pre>
<div class="sourceCode" id="cb1451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1451-1"><a href="r-lab-2---basics-ii.html#cb1451-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardizes variable (subtracts mean and divides by standard deviation)</span></span>
<span id="cb1451-2"><a href="r-lab-2---basics-ii.html#cb1451-2" aria-hidden="true" tabindex="-1"></a>my_data<span class="sc">$</span>d <span class="ot">&lt;-</span> <span class="fu">scale</span>(my_data<span class="sc">$</span>a)</span>
<span id="cb1451-3"><a href="r-lab-2---basics-ii.html#cb1451-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(my_data)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    10 obs. of  4 variables:
##  $ a: int  1 2 3 4 5 6 7 8 9 10
##  $ b: num  -5.721 -2.029 -11.535 4.721 -0.503 ...
##  $ c: Factor w/ 3 levels &quot;(-11.6,-3.72]&quot;,..: 1 2 1 3 2 2 2 3 3 2
##  $ d: num [1:10, 1] -1.486 -1.156 -0.826 -0.495 -0.165 ...
##   ..- attr(*, &quot;scaled:center&quot;)= num 5.5
##   ..- attr(*, &quot;scaled:scale&quot;)= num 3.03</code></pre>
<div class="sourceCode" id="cb1453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1453-1"><a href="r-lab-2---basics-ii.html#cb1453-1" aria-hidden="true" tabindex="-1"></a><span class="co"># lag, lead and cumulative sum a variable</span></span>
<span id="cb1453-2"><a href="r-lab-2---basics-ii.html#cb1453-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1453-3"><a href="r-lab-2---basics-ii.html#cb1453-3" aria-hidden="true" tabindex="-1"></a>my_data<span class="sc">$</span>f <span class="ot">&lt;-</span> <span class="fu">lag</span>(my_data<span class="sc">$</span>d, <span class="at">n=</span>1L) </span>
<span id="cb1453-4"><a href="r-lab-2---basics-ii.html#cb1453-4" aria-hidden="true" tabindex="-1"></a>my_data<span class="sc">$</span>g <span class="ot">&lt;-</span> <span class="fu">lead</span>(my_data<span class="sc">$</span>d, <span class="at">n=</span>1L) </span>
<span id="cb1453-5"><a href="r-lab-2---basics-ii.html#cb1453-5" aria-hidden="true" tabindex="-1"></a>my_data<span class="sc">$</span>h <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(my_data<span class="sc">$</span>d) </span>
<span id="cb1453-6"><a href="r-lab-2---basics-ii.html#cb1453-6" aria-hidden="true" tabindex="-1"></a>my_data</span></code></pre></div>
<pre><code>##     a           b             c          d          f          g         h
## 1   1  -5.7205901 (-11.6,-3.72] -1.4863011         NA -1.1560120 -1.486301
## 2   2  -2.0293440   (-3.72,4.1] -1.1560120 -1.4863011 -0.8257228 -2.642313
## 3   3 -11.5354045 (-11.6,-3.72] -0.8257228 -1.1560120 -0.4954337 -3.468036
## 4   4   4.7212605    (4.1,11.9] -0.4954337 -0.8257228 -0.1651446 -3.963470
## 5   5  -0.5031815   (-3.72,4.1] -0.1651446 -0.4954337  0.1651446 -4.128614
## 6   6   1.9061354   (-3.72,4.1]  0.1651446 -0.1651446  0.4954337 -3.963470
## 7   7   3.5532300   (-3.72,4.1]  0.4954337  0.1651446  0.8257228 -3.468036
## 8   8  11.7688430    (4.1,11.9]  0.8257228  0.4954337  1.1560120 -2.642313
## 9   9  11.9161919    (4.1,11.9]  1.1560120  0.8257228  1.4863011 -1.486301
## 10 10   3.5084072   (-3.72,4.1]  1.4863011  1.1560120         NA  0.000000</code></pre>
</div>
<div id="categorical-variables-in-data-frames" class="section level3 hasAnchor" number="35.1.7">
<h3><span class="header-section-number">35.1.7</span> Categorical Variables in Data Frames<a href="r-lab-2---basics-ii.html#categorical-variables-in-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s create a very simple data frame.</p>
<div class="sourceCode" id="cb1455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1455-1"><a href="r-lab-2---basics-ii.html#cb1455-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">gender=</span><span class="fu">c</span>(<span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>, <span class="st">&quot;female&quot;</span>, </span>
<span id="cb1455-2"><a href="r-lab-2---basics-ii.html#cb1455-2" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;female&quot;</span>, <span class="st">&quot;female&quot;</span>, <span class="st">&quot;male&quot;</span>),</span>
<span id="cb1455-3"><a href="r-lab-2---basics-ii.html#cb1455-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">numbers=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>, <span class="fl">0.5</span>, <span class="dv">11</span>, <span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb1455-4"><a href="r-lab-2---basics-ii.html#cb1455-4" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div>
<pre><code>##   gender numbers
## 1   male     1.0
## 2 female     2.0
## 3 female     3.0
## 4 female     0.5
## 5 female    11.0
## 6   male    -1.0</code></pre>
<div class="sourceCode" id="cb1457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1457-1"><a href="r-lab-2---basics-ii.html#cb1457-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(b)</span></code></pre></div>
<pre><code>## [1] 6 2</code></pre>
<div class="sourceCode" id="cb1459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1459-1"><a href="r-lab-2---basics-ii.html#cb1459-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(b)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    6 obs. of  2 variables:
##  $ gender : chr  &quot;male&quot; &quot;female&quot; &quot;female&quot; &quot;female&quot; ...
##  $ numbers: num  1 2 3 0.5 11 -1</code></pre>
<p>Why does say “levels” in the output? Because by default, character vectors are converted to factors in <code>data.frame()</code>.
If you want to convert them to back to characters.</p>
<div class="sourceCode" id="cb1461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1461-1"><a href="r-lab-2---basics-ii.html#cb1461-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(b<span class="sc">$</span>gender) <span class="co"># Distribution of gender</span></span></code></pre></div>
<pre><code>## 
## female   male 
##      4      2</code></pre>
<div class="sourceCode" id="cb1463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1463-1"><a href="r-lab-2---basics-ii.html#cb1463-1" aria-hidden="true" tabindex="-1"></a><span class="co"># back to character</span></span>
<span id="cb1463-2"><a href="r-lab-2---basics-ii.html#cb1463-2" aria-hidden="true" tabindex="-1"></a>b<span class="sc">$</span>gender <span class="ot">&lt;-</span> <span class="fu">as.character</span>(b<span class="sc">$</span>gender)</span>
<span id="cb1463-3"><a href="r-lab-2---basics-ii.html#cb1463-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(b)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    6 obs. of  2 variables:
##  $ gender : chr  &quot;male&quot; &quot;female&quot; &quot;female&quot; &quot;female&quot; ...
##  $ numbers: num  1 2 3 0.5 11 -1</code></pre>
<div class="sourceCode" id="cb1465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1465-1"><a href="r-lab-2---basics-ii.html#cb1465-1" aria-hidden="true" tabindex="-1"></a><span class="co"># back to factor</span></span>
<span id="cb1465-2"><a href="r-lab-2---basics-ii.html#cb1465-2" aria-hidden="true" tabindex="-1"></a>b<span class="sc">$</span>gender <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(b<span class="sc">$</span>gender)</span>
<span id="cb1465-3"><a href="r-lab-2---basics-ii.html#cb1465-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(b)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    6 obs. of  2 variables:
##  $ gender : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 2 1 1 1 1 2
##  $ numbers: num  1 2 3 0.5 11 -1</code></pre>
</div>
</div>
<div id="programming-basics" class="section level2 hasAnchor" number="35.2">
<h2><span class="header-section-number">35.2</span> Programming Basics<a href="r-lab-2---basics-ii.html#programming-basics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section we see three main applications: conditional flows, loops, and functions, that are main pillars of any type of programming.</p>
<div id="ifelse" class="section level3 hasAnchor" number="35.2.1">
<h3><span class="header-section-number">35.2.1</span> if/Else<a href="r-lab-2---basics-ii.html#ifelse" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The main syntax is as follows</p>
<p><code>if (condition) {</code><br />
<strong>some R code</strong><br />
<code>} else {</code><br />
<strong>more R code</strong><br />
<code>}</code></p>
<p>Here is a simple example:</p>
<div class="sourceCode" id="cb1467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1467-1"><a href="r-lab-2---basics-ii.html#cb1467-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;what&quot;</span>,<span class="st">&quot;is&quot;</span>,<span class="st">&quot;truth&quot;</span>)</span>
<span id="cb1467-2"><a href="r-lab-2---basics-ii.html#cb1467-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1467-3"><a href="r-lab-2---basics-ii.html#cb1467-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="st">&quot;Truth&quot;</span> <span class="sc">%in%</span> x) {</span>
<span id="cb1467-4"><a href="r-lab-2---basics-ii.html#cb1467-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">print</span>(<span class="st">&quot;Truth is found&quot;</span>)</span>
<span id="cb1467-5"><a href="r-lab-2---basics-ii.html#cb1467-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb1467-6"><a href="r-lab-2---basics-ii.html#cb1467-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">print</span>(<span class="st">&quot;Truth is not found&quot;</span>)</span>
<span id="cb1467-7"><a href="r-lab-2---basics-ii.html#cb1467-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;Truth is not found&quot;</code></pre>
<p>How about this:</p>
<div class="sourceCode" id="cb1469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1469-1"><a href="r-lab-2---basics-ii.html#cb1469-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">4</span>)</span>
<span id="cb1469-2"><a href="r-lab-2---basics-ii.html#cb1469-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb1469-3"><a href="r-lab-2---basics-ii.html#cb1469-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Here is a nice if/Else</span></span>
<span id="cb1469-4"><a href="r-lab-2---basics-ii.html#cb1469-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(x[x<span class="sc">==</span>a])<span class="sc">&gt;</span><span class="dv">0</span>) {</span>
<span id="cb1469-5"><a href="r-lab-2---basics-ii.html#cb1469-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;x has&quot;</span>, <span class="fu">length</span>(x[x<span class="sc">==</span>a]), a))</span>
<span id="cb1469-6"><a href="r-lab-2---basics-ii.html#cb1469-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb1469-7"><a href="r-lab-2---basics-ii.html#cb1469-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;x doesn&#39;t have any&quot;</span>, a))</span>
<span id="cb1469-8"><a href="r-lab-2---basics-ii.html#cb1469-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;x doesn&#39;t have any 3&quot;</code></pre>
<div class="sourceCode" id="cb1471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1471-1"><a href="r-lab-2---basics-ii.html#cb1471-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Another one with pipping</span></span>
<span id="cb1471-2"><a href="r-lab-2---basics-ii.html#cb1471-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb1471-3"><a href="r-lab-2---basics-ii.html#cb1471-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(a <span class="sc">%in%</span> x) {</span>
<span id="cb1471-4"><a href="r-lab-2---basics-ii.html#cb1471-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;x has&quot;</span>, <span class="fu">length</span>(x[x<span class="sc">==</span>a]), a))</span>
<span id="cb1471-5"><a href="r-lab-2---basics-ii.html#cb1471-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb1471-6"><a href="r-lab-2---basics-ii.html#cb1471-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;x doesn&#39;t have any&quot;</span>, a))</span>
<span id="cb1471-7"><a href="r-lab-2---basics-ii.html#cb1471-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;x has 2 4&quot;</code></pre>
<p>Nested conditions:</p>
<div class="sourceCode" id="cb1473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1473-1"><a href="r-lab-2---basics-ii.html#cb1473-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Change the numbers to see all conditions</span></span>
<span id="cb1473-2"><a href="r-lab-2---basics-ii.html#cb1473-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb1473-3"><a href="r-lab-2---basics-ii.html#cb1473-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb1473-4"><a href="r-lab-2---basics-ii.html#cb1473-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> y<span class="sc">!=</span> <span class="dv">0</span>) {</span>
<span id="cb1473-5"><a href="r-lab-2---basics-ii.html#cb1473-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;a number cannot be divided by zero&quot;</span>)</span>
<span id="cb1473-6"><a href="r-lab-2---basics-ii.html#cb1473-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> y <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb1473-7"><a href="r-lab-2---basics-ii.html#cb1473-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;a zero cannot be divided by zero&quot;</span>)</span>
<span id="cb1473-8"><a href="r-lab-2---basics-ii.html#cb1473-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb1473-9"><a href="r-lab-2---basics-ii.html#cb1473-9" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> y<span class="sc">/</span>x </span>
<span id="cb1473-10"><a href="r-lab-2---basics-ii.html#cb1473-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;y/x = &quot;</span>, a))</span>
<span id="cb1473-11"><a href="r-lab-2---basics-ii.html#cb1473-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;a number cannot be divided by zero&quot;</code></pre>
<p>A simpler, one-line <code>ifelse</code>!</p>
<div class="sourceCode" id="cb1475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1475-1"><a href="r-lab-2---basics-ii.html#cb1475-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Change the numbers</span></span>
<span id="cb1475-2"><a href="r-lab-2---basics-ii.html#cb1475-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb1475-3"><a href="r-lab-2---basics-ii.html#cb1475-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb1475-4"><a href="r-lab-2---basics-ii.html#cb1475-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span> (x <span class="sc">&gt;</span> y, <span class="st">&quot;x is bigger than y&quot;</span>, <span class="st">&quot;y is bigger than x&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;y is bigger than x&quot;</code></pre>
<div class="sourceCode" id="cb1477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1477-1"><a href="r-lab-2---basics-ii.html#cb1477-1" aria-hidden="true" tabindex="-1"></a><span class="co">#more, because the ifelse will fail if x = y.  Try it!</span></span>
<span id="cb1477-2"><a href="r-lab-2---basics-ii.html#cb1477-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span> (x <span class="sc">==</span> y, <span class="st">&quot;x is the same as y&quot;</span>,</span>
<span id="cb1477-3"><a href="r-lab-2---basics-ii.html#cb1477-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ifelse</span>(x <span class="sc">&gt;</span> y, <span class="st">&quot;x is bigger than y&quot;</span>, <span class="st">&quot;y is bigger than x&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;y is bigger than x&quot;</code></pre>
<p>A simpler, without else!</p>
<div class="sourceCode" id="cb1479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1479-1"><a href="r-lab-2---basics-ii.html#cb1479-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb1479-2"><a href="r-lab-2---basics-ii.html#cb1479-2" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb1479-3"><a href="r-lab-2---basics-ii.html#cb1479-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(z <span class="sc">&gt;</span> w) <span class="fu">print</span>(<span class="st">&quot;w is bigger than z&quot;</span>)</span>
<span id="cb1479-4"><a href="r-lab-2---basics-ii.html#cb1479-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1479-5"><a href="r-lab-2---basics-ii.html#cb1479-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Change the numbers</span></span>
<span id="cb1479-6"><a href="r-lab-2---basics-ii.html#cb1479-6" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb1479-7"><a href="r-lab-2---basics-ii.html#cb1479-7" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb1479-8"><a href="r-lab-2---basics-ii.html#cb1479-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&gt;</span> y) <span class="fu">print</span>(<span class="st">&quot;x is bigger than y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;x is bigger than y&quot;</code></pre>
<div class="sourceCode" id="cb1481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1481-1"><a href="r-lab-2---basics-ii.html#cb1481-1" aria-hidden="true" tabindex="-1"></a><span class="co">#See that both of them moves to the next line.</span></span></code></pre></div>
<p>Building multiple conditions without else (it’s a silly example!):</p>
<div class="sourceCode" id="cb1482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1482-1"><a href="r-lab-2---basics-ii.html#cb1482-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb1482-2"><a href="r-lab-2---basics-ii.html#cb1482-2" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb1482-3"><a href="r-lab-2---basics-ii.html#cb1482-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb1482-4"><a href="r-lab-2---basics-ii.html#cb1482-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb1482-5"><a href="r-lab-2---basics-ii.html#cb1482-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(z <span class="sc">&gt;</span> w) <span class="fu">print</span>(<span class="st">&quot;z is bigger than w&quot;</span>)</span>
<span id="cb1482-6"><a href="r-lab-2---basics-ii.html#cb1482-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(w <span class="sc">&gt;</span> z) <span class="fu">print</span>(<span class="st">&quot;w is bigger than z&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;w is bigger than z&quot;</code></pre>
<div class="sourceCode" id="cb1484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1484-1"><a href="r-lab-2---basics-ii.html#cb1484-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&gt;</span> y) <span class="fu">print</span>(<span class="st">&quot;x is bigger than y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;x is bigger than y&quot;</code></pre>
<div class="sourceCode" id="cb1486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1486-1"><a href="r-lab-2---basics-ii.html#cb1486-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(y <span class="sc">&gt;</span> x) <span class="fu">print</span>(<span class="st">&quot;y is bigger than x&quot;</span>)</span>
<span id="cb1486-2"><a href="r-lab-2---basics-ii.html#cb1486-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(z <span class="sc">&gt;</span> x) <span class="fu">print</span>(<span class="st">&quot;z is bigger than x&quot;</span>)</span>
<span id="cb1486-3"><a href="r-lab-2---basics-ii.html#cb1486-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(x <span class="sc">&gt;</span> z) <span class="fu">print</span>(<span class="st">&quot;x is bigger than z&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;x is bigger than z&quot;</code></pre>
<div class="sourceCode" id="cb1488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1488-1"><a href="r-lab-2---basics-ii.html#cb1488-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(w <span class="sc">&gt;</span> y) <span class="fu">print</span>(<span class="st">&quot;w is bigger than y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;w is bigger than y&quot;</code></pre>
<div class="sourceCode" id="cb1490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1490-1"><a href="r-lab-2---basics-ii.html#cb1490-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(y <span class="sc">&gt;</span> w) <span class="fu">print</span>(<span class="st">&quot;y is bigger than w&quot;</span>)</span>
<span id="cb1490-2"><a href="r-lab-2---basics-ii.html#cb1490-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1490-3"><a href="r-lab-2---basics-ii.html#cb1490-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Try it with if-else.</span></span></code></pre></div>
<p>The <code>ifelse()</code> function only allows for one “if” statement, two cases. You could add nested “if” statements, but that’s just a pain, especially if the 3+ conditions you want to use are all on the same level, conceptually. Is there a way to specify multiple conditions at the same time?</p>
<p><code>dplyr()</code> is the most powerful library for data management. When you have time, read more about it!<br />
Source: <a href="https://stats.idre.ucla.edu/stat/data/intro_r/intro_r.html#(35)" class="uri">https://stats.idre.ucla.edu/stat/data/intro_r/intro_r.html#(35)</a></p>
<div class="sourceCode" id="cb1491"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1491-1"><a href="r-lab-2---basics-ii.html#cb1491-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Let&#39;s create a data frame:</span></span>
<span id="cb1491-2"><a href="r-lab-2---basics-ii.html#cb1491-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;name&quot;</span><span class="ot">=</span><span class="fu">c</span>(<span class="st">&quot;Kaija&quot;</span>, <span class="st">&quot;Ella&quot;</span>, <span class="st">&quot;Andis&quot;</span>), <span class="st">&quot;test1&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb1491-3"><a href="r-lab-2---basics-ii.html#cb1491-3" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;test2&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>))</span>
<span id="cb1491-4"><a href="r-lab-2---basics-ii.html#cb1491-4" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##    name test1 test2
## 1 Kaija FALSE FALSE
## 2  Ella  TRUE FALSE
## 3 Andis  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb1493"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1493-1"><a href="r-lab-2---basics-ii.html#cb1493-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Suppose we want  separate the people into three groups:</span></span>
<span id="cb1493-2"><a href="r-lab-2---basics-ii.html#cb1493-2" aria-hidden="true" tabindex="-1"></a><span class="co">#People who passed both tests: Group A</span></span>
<span id="cb1493-3"><a href="r-lab-2---basics-ii.html#cb1493-3" aria-hidden="true" tabindex="-1"></a><span class="co">#People who passed one test: Group B</span></span>
<span id="cb1493-4"><a href="r-lab-2---basics-ii.html#cb1493-4" aria-hidden="true" tabindex="-1"></a><span class="co">#People who passed neither test: Group C</span></span>
<span id="cb1493-5"><a href="r-lab-2---basics-ii.html#cb1493-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1493-6"><a href="r-lab-2---basics-ii.html#cb1493-6" aria-hidden="true" tabindex="-1"></a><span class="co">#dplyr has a function for exactly this purpose: case_when().</span></span>
<span id="cb1493-7"><a href="r-lab-2---basics-ii.html#cb1493-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1493-8"><a href="r-lab-2---basics-ii.html#cb1493-8" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb1493-9"><a href="r-lab-2---basics-ii.html#cb1493-9" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">case_when</span>(test1 <span class="sc">&amp;</span> test2 <span class="sc">~</span> <span class="st">&quot;A&quot;</span>, <span class="co"># both tests: group A</span></span>
<span id="cb1493-10"><a href="r-lab-2---basics-ii.html#cb1493-10" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">xor</span>(test1, test2) <span class="sc">~</span> <span class="st">&quot;B&quot;</span>, <span class="co"># one test: group B</span></span>
<span id="cb1493-11"><a href="r-lab-2---basics-ii.html#cb1493-11" aria-hidden="true" tabindex="-1"></a>                         <span class="sc">!</span>test1 <span class="sc">&amp;</span> <span class="sc">!</span>test2 <span class="sc">~</span> <span class="st">&quot;C&quot;</span> <span class="co"># neither test: group C</span></span>
<span id="cb1493-12"><a href="r-lab-2---basics-ii.html#cb1493-12" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb1493-13"><a href="r-lab-2---basics-ii.html#cb1493-13" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##    name test1 test2 group
## 1 Kaija FALSE FALSE     C
## 2  Ella  TRUE FALSE     B
## 3 Andis  TRUE  TRUE     A</code></pre>
</div>
<div id="loops" class="section level3 hasAnchor" number="35.2.2">
<h3><span class="header-section-number">35.2.2</span> Loops<a href="r-lab-2---basics-ii.html#loops" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>What would you do if you needed to execute a block of code multiple times? In general, statements are executed sequentially. A loop statement allows us to execute a statement or group of statements multiple times and the following is the general form of a loop statement in most programming languages. There are 3 main loop types: <code>while()</code>, <code>for()</code>, <code>repeat()</code>.</p>
<p>Here are some examples for <code>for()</code> loop:</p>
<div class="sourceCode" id="cb1495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1495-1"><a href="r-lab-2---basics-ii.html#cb1495-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">5</span>)</span>
<span id="cb1495-2"><a href="r-lab-2---basics-ii.html#cb1495-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1495-3"><a href="r-lab-2---basics-ii.html#cb1495-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb1495-4"><a href="r-lab-2---basics-ii.html#cb1495-4" aria-hidden="true" tabindex="-1"></a>  x[i] <span class="ot">&lt;-</span> x[i] <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb1495-5"><a href="r-lab-2---basics-ii.html#cb1495-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1495-6"><a href="r-lab-2---basics-ii.html#cb1495-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1495-7"><a href="r-lab-2---basics-ii.html#cb1495-7" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1]  6 -2  8  4 20 10</code></pre>
<p>Note that this just for an example. If we want to multiply each element of a vector by 2, a loop isn’t the best way. Although it is very normal in many programming languages, we would simply use a vectorized operation in R.</p>
<div class="sourceCode" id="cb1497"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1497-1"><a href="r-lab-2---basics-ii.html#cb1497-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">5</span>)</span>
<span id="cb1497-2"><a href="r-lab-2---basics-ii.html#cb1497-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb1497-3"><a href="r-lab-2---basics-ii.html#cb1497-3" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1]  6 -2  8  4 20 10</code></pre>
<p>But some times it would be very handy:</p>
<div class="sourceCode" id="cb1499"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1499-1"><a href="r-lab-2---basics-ii.html#cb1499-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If the element in x is not zero, multiply it with the subsequent element</span></span>
<span id="cb1499-2"><a href="r-lab-2---basics-ii.html#cb1499-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1499-3"><a href="r-lab-2---basics-ii.html#cb1499-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">5</span>)</span>
<span id="cb1499-4"><a href="r-lab-2---basics-ii.html#cb1499-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(<span class="fu">length</span>(x)<span class="sc">-</span><span class="dv">1</span>)) {</span>
<span id="cb1499-5"><a href="r-lab-2---basics-ii.html#cb1499-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ifelse</span>(x[i] <span class="sc">&gt;</span> <span class="dv">0</span>,  x[i] <span class="ot">&lt;-</span> x[i] <span class="sc">*</span> x[i <span class="sc">+</span> <span class="dv">1</span>], x[i] <span class="ot">&lt;-</span> <span class="dv">0</span>)  </span>
<span id="cb1499-6"><a href="r-lab-2---basics-ii.html#cb1499-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1499-7"><a href="r-lab-2---basics-ii.html#cb1499-7" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] -3  0  8 20 50  5</code></pre>
<p>Here are some examples for <code>while()</code> loop:</p>
<div class="sourceCode" id="cb1501"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1501-1"><a href="r-lab-2---basics-ii.html#cb1501-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s use our first example</span></span>
<span id="cb1501-2"><a href="r-lab-2---basics-ii.html#cb1501-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1501-3"><a href="r-lab-2---basics-ii.html#cb1501-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb1501-4"><a href="r-lab-2---basics-ii.html#cb1501-4" aria-hidden="true" tabindex="-1"></a>cnt <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb1501-5"><a href="r-lab-2---basics-ii.html#cb1501-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1501-6"><a href="r-lab-2---basics-ii.html#cb1501-6" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (cnt <span class="sc">&lt;</span> <span class="dv">11</span>) {</span>
<span id="cb1501-7"><a href="r-lab-2---basics-ii.html#cb1501-7" aria-hidden="true" tabindex="-1"></a>   x <span class="ot">=</span> x <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb1501-8"><a href="r-lab-2---basics-ii.html#cb1501-8" aria-hidden="true" tabindex="-1"></a>   cnt <span class="ot">=</span> cnt <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb1501-9"><a href="r-lab-2---basics-ii.html#cb1501-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1501-10"><a href="r-lab-2---basics-ii.html#cb1501-10" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 3072</code></pre>
<p>Here are some examples for <code>repeat()</code> loop:</p>
<div class="sourceCode" id="cb1503"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1503-1"><a href="r-lab-2---basics-ii.html#cb1503-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s use our first example</span></span>
<span id="cb1503-2"><a href="r-lab-2---basics-ii.html#cb1503-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1503-3"><a href="r-lab-2---basics-ii.html#cb1503-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb1503-4"><a href="r-lab-2---basics-ii.html#cb1503-4" aria-hidden="true" tabindex="-1"></a>cnt <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb1503-5"><a href="r-lab-2---basics-ii.html#cb1503-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1503-6"><a href="r-lab-2---basics-ii.html#cb1503-6" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb1503-7"><a href="r-lab-2---basics-ii.html#cb1503-7" aria-hidden="true" tabindex="-1"></a>   x <span class="ot">=</span> x <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb1503-8"><a href="r-lab-2---basics-ii.html#cb1503-8" aria-hidden="true" tabindex="-1"></a>   cnt <span class="ot">=</span> cnt <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb1503-9"><a href="r-lab-2---basics-ii.html#cb1503-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1503-10"><a href="r-lab-2---basics-ii.html#cb1503-10" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span>(cnt <span class="sc">&gt;</span> <span class="dv">10</span>) <span class="cf">break</span></span>
<span id="cb1503-11"><a href="r-lab-2---basics-ii.html#cb1503-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1503-12"><a href="r-lab-2---basics-ii.html#cb1503-12" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 3072</code></pre>
</div>
<div id="the-apply-family" class="section level3 hasAnchor" number="35.2.3">
<h3><span class="header-section-number">35.2.3</span> The <code>apply()</code> family<a href="r-lab-2---basics-ii.html#the-apply-family" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>apply()</code> family is one of the R base packages and is populated with functions to manipulate slices of data from matrices, arrays, lists and data frames in a repetitive way. These functions allow crossing the data in a number of ways and avoid explicit use of loop constructs. They act on an input list, matrix or array and apply a named function with one or several optional arguments. The family is made up of the <code>apply()</code>, <code>lapply()</code> , <code>sapply()</code>, <code>vapply()</code>, <code>mapply()</code>, <code>rapply()</code>, and <code>tapply()</code> functions.</p>
<div id="apply" class="section level4 hasAnchor" number="35.2.3.1">
<h4><span class="header-section-number">35.2.3.1</span> <code>apply()</code><a href="r-lab-2---basics-ii.html#apply" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The R base manual tells you that it’s called as follows: <code>apply(X, MARGIN, FUN, ...)</code>, where, X is an array or a matrix if the dimension of the array is 2; MARGIN is a variable defining how the function is applied: when <code>MARGIN=1</code>, it applies over rows, whereas with <code>MARGIN=2</code>, it works over columns. Note that when you use the construct <code>MARGIN=c(1,2)</code>, it applies to both rows and columns; and FUN, which is the function that you want to apply to the data. It can be any R function, including a User Defined Function (UDF).</p>
<div class="sourceCode" id="cb1505"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1505-1"><a href="r-lab-2---basics-ii.html#cb1505-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct a 5x6 matrix</span></span>
<span id="cb1505-2"><a href="r-lab-2---basics-ii.html#cb1505-2" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(<span class="dv">30</span>), <span class="at">nrow=</span><span class="dv">5</span>, <span class="at">ncol=</span><span class="dv">6</span>)</span>
<span id="cb1505-3"><a href="r-lab-2---basics-ii.html#cb1505-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1505-4"><a href="r-lab-2---basics-ii.html#cb1505-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum the values of each column with `apply()`</span></span>
<span id="cb1505-5"><a href="r-lab-2---basics-ii.html#cb1505-5" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X, <span class="dv">2</span>, sum)</span></code></pre></div>
<pre><code>## [1]  1.63313214 -2.28558962 -1.67774549  3.02675706 -0.02418322 -0.38005485</code></pre>
<div class="sourceCode" id="cb1507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1507-1"><a href="r-lab-2---basics-ii.html#cb1507-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X, <span class="dv">2</span>, length)</span></code></pre></div>
<pre><code>## [1] 5 5 5 5 5 5</code></pre>
<div class="sourceCode" id="cb1509"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1509-1"><a href="r-lab-2---basics-ii.html#cb1509-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X, <span class="dv">1</span>, length)</span></code></pre></div>
<pre><code>## [1] 6 6 6 6 6</code></pre>
<div class="sourceCode" id="cb1511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1511-1"><a href="r-lab-2---basics-ii.html#cb1511-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X, <span class="dv">2</span>, <span class="cf">function</span> (x) <span class="fu">length</span>(x)<span class="sc">-</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 4 4 4 4 4 4</code></pre>
<div class="sourceCode" id="cb1513"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1513-1"><a href="r-lab-2---basics-ii.html#cb1513-1" aria-hidden="true" tabindex="-1"></a><span class="co">#If you don’t want to write a function inside of the arguments</span></span>
<span id="cb1513-2"><a href="r-lab-2---basics-ii.html#cb1513-2" aria-hidden="true" tabindex="-1"></a>len <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb1513-3"><a href="r-lab-2---basics-ii.html#cb1513-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>(x)<span class="sc">-</span><span class="dv">1</span></span>
<span id="cb1513-4"><a href="r-lab-2---basics-ii.html#cb1513-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1513-5"><a href="r-lab-2---basics-ii.html#cb1513-5" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X,<span class="dv">2</span>, len)</span></code></pre></div>
<pre><code>## [1] 4 4 4 4 4 4</code></pre>
<div class="sourceCode" id="cb1515"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1515-1"><a href="r-lab-2---basics-ii.html#cb1515-1" aria-hidden="true" tabindex="-1"></a><span class="co">#It can also be used to repeat a function on cells within a matrix</span></span>
<span id="cb1515-2"><a href="r-lab-2---basics-ii.html#cb1515-2" aria-hidden="true" tabindex="-1"></a>X_new <span class="ot">&lt;-</span> <span class="fu">apply</span>(X, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="cf">function</span>(x) x<span class="sc">+</span><span class="dv">3</span>)</span>
<span id="cb1515-3"><a href="r-lab-2---basics-ii.html#cb1515-3" aria-hidden="true" tabindex="-1"></a>X_new</span></code></pre></div>
<pre><code>##          [,1]     [,2]     [,3]     [,4]     [,5]     [,6]
## [1,] 3.425800 1.813185 1.157967 3.952250 3.199630 2.548169
## [2,] 4.340268 2.422338 2.522118 2.125970 3.489867 1.874287
## [3,] 1.614724 3.297379 2.979718 4.745105 2.175204 3.928882
## [4,] 3.817709 1.259799 4.576702 3.556041 2.038167 2.066095
## [5,] 3.434631 3.921709 2.085750 3.647391 4.072949 4.202512</code></pre>
<p>Since <code>apply()</code> is used only for matrices, if you apply <code>apply()</code> to a data frame, it first coerces your data.frame to an array which means all the columns must have the same type. Depending on your context, this could have unintended consequences. For a safer practice in data frames, we can use <code>lappy()</code> and <code>sapply()</code>:</p>
</div>
<div id="lapply" class="section level4 hasAnchor" number="35.2.3.2">
<h4><span class="header-section-number">35.2.3.2</span> <code>lapply()</code><a href="r-lab-2---basics-ii.html#lapply" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You want to apply a given function to every element of a list and obtain a list as a result. When you execute <code>?lapply</code>, you see that the syntax looks like the <code>apply()</code> function. The difference is that it can be used for other objects like data frames, lists or vectors. And the output returned is a list (which explains the “l” in the function name), which has the same number of elements as the object passed to it. <code>lapply()</code> function does not need MARGIN.</p>
<div class="sourceCode" id="cb1517"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1517-1"><a href="r-lab-2---basics-ii.html#cb1517-1" aria-hidden="true" tabindex="-1"></a>A<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)</span>
<span id="cb1517-2"><a href="r-lab-2---basics-ii.html#cb1517-2" aria-hidden="true" tabindex="-1"></a>B<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>)</span>
<span id="cb1517-3"><a href="r-lab-2---basics-ii.html#cb1517-3" aria-hidden="true" tabindex="-1"></a>C<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>)</span>
<span id="cb1517-4"><a href="r-lab-2---basics-ii.html#cb1517-4" aria-hidden="true" tabindex="-1"></a>my.lst<span class="ot">&lt;-</span><span class="fu">list</span>(A,B,C)</span>
<span id="cb1517-5"><a href="r-lab-2---basics-ii.html#cb1517-5" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(my.lst, sum)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 45
## 
## [[2]]
## [1] 78
## 
## [[3]]
## [1] 120</code></pre>
</div>
<div id="sapply" class="section level4 hasAnchor" number="35.2.3.3">
<h4><span class="header-section-number">35.2.3.3</span> <code>sapply()</code><a href="r-lab-2---basics-ii.html#sapply" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>sapply</code> works just like lapply, but will simplify the output if possible. This means that instead of returning a list like <code>lapply</code>, it will return a vector instead if the data is simplifiable.</p>
<div class="sourceCode" id="cb1519"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1519-1"><a href="r-lab-2---basics-ii.html#cb1519-1" aria-hidden="true" tabindex="-1"></a>A<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)</span>
<span id="cb1519-2"><a href="r-lab-2---basics-ii.html#cb1519-2" aria-hidden="true" tabindex="-1"></a>B<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>)</span>
<span id="cb1519-3"><a href="r-lab-2---basics-ii.html#cb1519-3" aria-hidden="true" tabindex="-1"></a>C<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>)</span>
<span id="cb1519-4"><a href="r-lab-2---basics-ii.html#cb1519-4" aria-hidden="true" tabindex="-1"></a>my.lst<span class="ot">&lt;-</span><span class="fu">list</span>(A,B,C)</span>
<span id="cb1519-5"><a href="r-lab-2---basics-ii.html#cb1519-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(my.lst, sum)</span></code></pre></div>
<pre><code>## [1]  45  78 120</code></pre>
</div>
<div id="tapply" class="section level4 hasAnchor" number="35.2.3.4">
<h4><span class="header-section-number">35.2.3.4</span> <code>tapply()</code><a href="r-lab-2---basics-ii.html#tapply" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Sometimes you may want to perform the apply function on some data, but have it separated by factor. In that case, you should use <code>tapply</code>. Let’s take a look at the information for <code>tapply</code>.</p>
<div class="sourceCode" id="cb1521"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1521-1"><a href="r-lab-2---basics-ii.html#cb1521-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>, <span class="dv">21</span><span class="sc">:</span><span class="dv">30</span>), <span class="at">nrow =</span> <span class="dv">10</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb1521-2"><a href="r-lab-2---basics-ii.html#cb1521-2" aria-hidden="true" tabindex="-1"></a>tdata <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>), X))</span>
<span id="cb1521-3"><a href="r-lab-2---basics-ii.html#cb1521-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tdata)</span></code></pre></div>
<pre><code>## [1] &quot;V1&quot; &quot;V2&quot; &quot;V3&quot; &quot;V4&quot;</code></pre>
<div class="sourceCode" id="cb1523"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1523-1"><a href="r-lab-2---basics-ii.html#cb1523-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(tdata<span class="sc">$</span>V2, tdata<span class="sc">$</span>V1, mean)</span></code></pre></div>
<pre><code>## 1 2 
## 3 8</code></pre>
<p>What we have here is an important tool: We have a conditional mean of column 2 (V2) with respect to column 1 (V1). You can use tapply to do some quick summary statistics on a variable split by condition.</p>
<div class="sourceCode" id="cb1525"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1525-1"><a href="r-lab-2---basics-ii.html#cb1525-1" aria-hidden="true" tabindex="-1"></a>summary <span class="ot">&lt;-</span> <span class="fu">tapply</span>(tdata<span class="sc">$</span>V2, tdata<span class="sc">$</span>V1, <span class="cf">function</span>(x) <span class="fu">c</span>(<span class="fu">mean</span>(x), <span class="fu">sd</span>(x)))</span>
<span id="cb1525-2"><a href="r-lab-2---basics-ii.html#cb1525-2" aria-hidden="true" tabindex="-1"></a>summary</span></code></pre></div>
<pre><code>## $`1`
## [1] 3.000000 1.581139
## 
## $`2`
## [1] 8.000000 1.581139</code></pre>
</div>
<div id="mapply" class="section level4 hasAnchor" number="35.2.3.5">
<h4><span class="header-section-number">35.2.3.5</span> <code>mapply()</code><a href="r-lab-2---basics-ii.html#mapply" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>mapply()</code> would be used to create a new variable. For example, using dataset tdata, we could divide one column by another column to create a new value. This would be useful for creating a ratio of two variables as shown in the example below.</p>
<div class="sourceCode" id="cb1527"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1527-1"><a href="r-lab-2---basics-ii.html#cb1527-1" aria-hidden="true" tabindex="-1"></a>tdata<span class="sc">$</span>V5 <span class="ot">&lt;-</span> <span class="fu">mapply</span>(<span class="cf">function</span>(x, y) x<span class="sc">/</span>y, tdata<span class="sc">$</span>V2, tdata<span class="sc">$</span>V4)</span>
<span id="cb1527-2"><a href="r-lab-2---basics-ii.html#cb1527-2" aria-hidden="true" tabindex="-1"></a>tdata<span class="sc">$</span>V5</span></code></pre></div>
<pre><code>##  [1] 0.04761905 0.09090909 0.13043478 0.16666667 0.20000000 0.23076923
##  [7] 0.25925926 0.28571429 0.31034483 0.33333333</code></pre>
</div>
</div>
<div id="functions" class="section level3 hasAnchor" number="35.2.4">
<h3><span class="header-section-number">35.2.4</span> Functions<a href="r-lab-2---basics-ii.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An R function is created by using the keyword function. The basic syntax of an R function definition is as follows:</p>
<p>To use a function, you simply type its name, followed by an open parenthesis, then specify values of its arguments, then finish with a closing parenthesis. An argument is a variable which is used in the body of the function. Specifying the values of the arguments is essentially providing the inputs to the function. Let’s write our first function:</p>
<div class="sourceCode" id="cb1529"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1529-1"><a href="r-lab-2---basics-ii.html#cb1529-1" aria-hidden="true" tabindex="-1"></a>first <span class="ot">&lt;-</span> <span class="cf">function</span>(a){</span>
<span id="cb1529-2"><a href="r-lab-2---basics-ii.html#cb1529-2" aria-hidden="true" tabindex="-1"></a>  b <span class="ot">&lt;-</span> a <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb1529-3"><a href="r-lab-2---basics-ii.html#cb1529-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(b)</span>
<span id="cb1529-4"><a href="r-lab-2---basics-ii.html#cb1529-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1529-5"><a href="r-lab-2---basics-ii.html#cb1529-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1529-6"><a href="r-lab-2---basics-ii.html#cb1529-6" aria-hidden="true" tabindex="-1"></a><span class="fu">first</span>(<span class="dv">1675</span>)</span></code></pre></div>
<pre><code>## [1] 2805625</code></pre>
<p>Let’s have a function that find the z-score (standardization). That’s subtracting the sample mean, and dividing by the sample standard deviation.</p>
<p><span class="math display">\[
\frac{x-\overline{x}}{s}
\]</span></p>
<div class="sourceCode" id="cb1531"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1531-1"><a href="r-lab-2---basics-ii.html#cb1531-1" aria-hidden="true" tabindex="-1"></a>z_score <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb1531-2"><a href="r-lab-2---basics-ii.html#cb1531-2" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb1531-3"><a href="r-lab-2---basics-ii.html#cb1531-3" aria-hidden="true" tabindex="-1"></a>  std <span class="ot">&lt;-</span> <span class="fu">sd</span>(x)</span>
<span id="cb1531-4"><a href="r-lab-2---basics-ii.html#cb1531-4" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> (x <span class="sc">-</span> m)<span class="sc">/</span>std</span>
<span id="cb1531-5"><a href="r-lab-2---basics-ii.html#cb1531-5" aria-hidden="true" tabindex="-1"></a>  z</span>
<span id="cb1531-6"><a href="r-lab-2---basics-ii.html#cb1531-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1531-7"><a href="r-lab-2---basics-ii.html#cb1531-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1531-8"><a href="r-lab-2---basics-ii.html#cb1531-8" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb1531-9"><a href="r-lab-2---basics-ii.html#cb1531-9" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">30</span>)</span>
<span id="cb1531-10"><a href="r-lab-2---basics-ii.html#cb1531-10" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">z_score</span>(x)</span>
<span id="cb1531-11"><a href="r-lab-2---basics-ii.html#cb1531-11" aria-hidden="true" tabindex="-1"></a>z</span></code></pre></div>
<pre><code>##  [1] -0.97190653  0.06589991 -1.23987805  1.87433300  0.25276523 -1.22045645
##  [7]  0.45507643  0.77649606  0.56826358 -0.56059319</code></pre>
<div class="sourceCode" id="cb1533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1533-1"><a href="r-lab-2---basics-ii.html#cb1533-1" aria-hidden="true" tabindex="-1"></a><span class="co">#to check it out</span></span>
<span id="cb1533-2"><a href="r-lab-2---basics-ii.html#cb1533-2" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">mean</span>(z), <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb1535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1535-1"><a href="r-lab-2---basics-ii.html#cb1535-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(z)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>We can do a better job in writing <code>z_score()</code></p>
<div class="sourceCode" id="cb1537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1537-1"><a href="r-lab-2---basics-ii.html#cb1537-1" aria-hidden="true" tabindex="-1"></a>z_score <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb1537-2"><a href="r-lab-2---basics-ii.html#cb1537-2" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> (x <span class="sc">-</span> <span class="fu">mean</span>(x))<span class="sc">/</span><span class="fu">sd</span>(x)</span>
<span id="cb1537-3"><a href="r-lab-2---basics-ii.html#cb1537-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1537-4"><a href="r-lab-2---basics-ii.html#cb1537-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1537-5"><a href="r-lab-2---basics-ii.html#cb1537-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb1537-6"><a href="r-lab-2---basics-ii.html#cb1537-6" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">30</span>)</span>
<span id="cb1537-7"><a href="r-lab-2---basics-ii.html#cb1537-7" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">z_score</span>(x)</span>
<span id="cb1537-8"><a href="r-lab-2---basics-ii.html#cb1537-8" aria-hidden="true" tabindex="-1"></a>z</span></code></pre></div>
<pre><code>##  [1] -0.97190653  0.06589991 -1.23987805  1.87433300  0.25276523 -1.22045645
##  [7]  0.45507643  0.77649606  0.56826358 -0.56059319</code></pre>
<p>Lets create a function that prints the factorials:</p>
<div class="sourceCode" id="cb1539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1539-1"><a href="r-lab-2---basics-ii.html#cb1539-1" aria-hidden="true" tabindex="-1"></a>fact <span class="ot">&lt;-</span> <span class="cf">function</span>(a){</span>
<span id="cb1539-2"><a href="r-lab-2---basics-ii.html#cb1539-2" aria-hidden="true" tabindex="-1"></a>  b <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb1539-3"><a href="r-lab-2---basics-ii.html#cb1539-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(a<span class="dv">-1</span>)) {</span>
<span id="cb1539-4"><a href="r-lab-2---basics-ii.html#cb1539-4" aria-hidden="true" tabindex="-1"></a>    b <span class="ot">&lt;-</span> b<span class="sc">*</span>(i<span class="sc">+</span><span class="dv">1</span>) </span>
<span id="cb1539-5"><a href="r-lab-2---basics-ii.html#cb1539-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1539-6"><a href="r-lab-2---basics-ii.html#cb1539-6" aria-hidden="true" tabindex="-1"></a>  b</span>
<span id="cb1539-7"><a href="r-lab-2---basics-ii.html#cb1539-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1539-8"><a href="r-lab-2---basics-ii.html#cb1539-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1539-9"><a href="r-lab-2---basics-ii.html#cb1539-9" aria-hidden="true" tabindex="-1"></a><span class="fu">fact</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 120</code></pre>
<p>Creating loops is an act of art and requires very careful thinking. The same loop can be done by many different structures. And it always takes more time to understand somebody else’s loop than your own!</p>
<div id="outer" class="section level4 hasAnchor" number="35.2.4.1">
<h4><span class="header-section-number">35.2.4.1</span> <code>outer()</code><a href="r-lab-2---basics-ii.html#outer" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>outer()</code> takes two vectors and a function (that itself takes two arguments) and builds a <strong>matrix</strong> by calling the given function for each combination of the elements in the two vectors.</p>
<div class="sourceCode" id="cb1541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1541-1"><a href="r-lab-2---basics-ii.html#cb1541-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb1541-2"><a href="r-lab-2---basics-ii.html#cb1541-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb1541-3"><a href="r-lab-2---basics-ii.html#cb1541-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1541-4"><a href="r-lab-2---basics-ii.html#cb1541-4" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">outer</span> (</span>
<span id="cb1541-5"><a href="r-lab-2---basics-ii.html#cb1541-5" aria-hidden="true" tabindex="-1"></a>   y,     <span class="co"># First dimension:  the columns (y)</span></span>
<span id="cb1541-6"><a href="r-lab-2---basics-ii.html#cb1541-6" aria-hidden="true" tabindex="-1"></a>   x,     <span class="co"># Second dimension: the rows    (x)</span></span>
<span id="cb1541-7"><a href="r-lab-2---basics-ii.html#cb1541-7" aria-hidden="true" tabindex="-1"></a>   <span class="cf">function</span> (x, y)   x<span class="sc">+</span><span class="dv">2</span><span class="sc">*</span>y</span>
<span id="cb1541-8"><a href="r-lab-2---basics-ii.html#cb1541-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1541-9"><a href="r-lab-2---basics-ii.html#cb1541-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1541-10"><a href="r-lab-2---basics-ii.html#cb1541-10" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    0    2    4
## [2,]    1    3    5
## [3,]    2    4    6
## [4,]    3    5    7
## [5,]    4    6    8</code></pre>
<p>In place of the function, an operator can be given, which makes it easy to create a matrix with simple calculations (such as multiplying):</p>
<div class="sourceCode" id="cb1543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1543-1"><a href="r-lab-2---basics-ii.html#cb1543-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">outer</span>(<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>), <span class="st">&quot;*&quot;</span>)</span>
<span id="cb1543-2"><a href="r-lab-2---basics-ii.html#cb1543-2" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   20   40   60
## [2,]   40   80  120
## [3,]   60  120  180
## [4,]   80  160  240</code></pre>
<p>It becomes very handy when we build a polynomial model:</p>
<div class="sourceCode" id="cb1545"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1545-1"><a href="r-lab-2---basics-ii.html#cb1545-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">20</span>, <span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1545-2"><a href="r-lab-2---basics-ii.html#cb1545-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##  [1]  8 14 20  4  8 13  4  4  1  9</code></pre>
<div class="sourceCode" id="cb1547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1547-1"><a href="r-lab-2---basics-ii.html#cb1547-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">outer</span>(x, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="st">&quot;^&quot;</span>)</span>
<span id="cb1547-2"><a href="r-lab-2---basics-ii.html#cb1547-2" aria-hidden="true" tabindex="-1"></a>m</span></code></pre></div>
<pre><code>##       [,1] [,2] [,3]   [,4]
##  [1,]    8   64  512   4096
##  [2,]   14  196 2744  38416
##  [3,]   20  400 8000 160000
##  [4,]    4   16   64    256
##  [5,]    8   64  512   4096
##  [6,]   13  169 2197  28561
##  [7,]    4   16   64    256
##  [8,]    4   16   64    256
##  [9,]    1    1    1      1
## [10,]    9   81  729   6561</code></pre>
</div>
</div>
<div id="dplyr" class="section level3 hasAnchor" number="35.2.5">
<h3><span class="header-section-number">35.2.5</span> <code>dplyr()</code><a href="r-lab-2---basics-ii.html#dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Taking the time to prepare your data before analysis can save you frustration and time spent cleaning up errors. The package <strong>dplyr</strong> contains several easy-to-use data management functions that we will learn to use to manage our data.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-lab-1---basics-i.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-lab-3---preparing-the-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yaydede/toolbox/edit/master/32-RLab2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["YA_TextBook.pdf", "YA_TextBook.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
